function varargout = NM_Results_Viewer(varargin)
% NM_Results_Viewer MATLAB code for NM_Results_Viewer.fig
%      NM_Results_Viewer, by itself, creates a new NM_Results_Viewer or raises the existing
%      singleton*.
%
%      H = NM_Results_Viewer returns the handle to a new NM_Results_Viewer or the handle to
%      the existing singleton*.
%
%      NM_Results_Viewer('CALLBACK',hObject,eventData,handles,...) calls the local
%      function named CALLBACK in NM_Results_Viewer.M with the given input arguments.
%
%      NM_Results_Viewer('Property','Value',...) creates a new NM_Results_Viewer or raises the
%      existing singleton*.  Starting from the left, property value pairs are
%      applied to the GUI before NM_Results_Viewer_OpeningFcn gets called.  An
%      unrecognized property name or invalid value makes property application
%      stop.  All inputs are passed to NM_Results_Viewer_OpeningFcn via varargin.
%
%      *See GUI Options on GUIDE's Tools menu.  Choose "GUI allows only one
%      instance to run (singleton)".
%
% See also: GUIDE, GUIDATA, GUIHANDLES

% Edit the above text to modify the response to help NM_Results_Viewer

% Last Modified by GUIDE v2.5 16-May-2025 08:43:52

% Begin initialization code - DO NOT EDIT
gui_Singleton = 1;
gui_State = struct('gui_Name',       mfilename, ...
                   'gui_Singleton',  gui_Singleton, ...
                   'gui_OpeningFcn', @NM_Results_Viewer_OpeningFcn, ...
                   'gui_OutputFcn',  @NM_Results_Viewer_OutputFcn, ...
                   'gui_LayoutFcn',  @NM_Results_Viewer_LayoutFcn, ...
                   'gui_Callback',   []);
if nargin && ischar(varargin{1})
    gui_State.gui_Callback = str2func(varargin{1});
end

if nargout
    [varargout{1:nargout}] = gui_mainfcn(gui_State, varargin{:});
else
    gui_mainfcn(gui_State, varargin{:});
end
% End initialization code - DO NOT EDIT

% --- Executes just before NM_Results_Viewer is made visible.

function NM_Results_Viewer_OpeningFcn(hObject, ~, handles, varargin)
% This function has no output args, see OutputFcn.
% hObject    handle to figure
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
% varargin   command line arguments to NM_Results_Viewer (see VARARGIN)

 % 1) Give main figure a unique Tag 
myTag = 'NM_ResultsViewer';
set(hObject,'Tag', myTag);

% 2) Look for other figures with the same Tag (findall sees hidden handles)
others = findall(0, 'Type','figure', 'Tag', myTag);
others(others == hObject) = [];  % exclude the figure currently opening

if ~isempty(others)
    % 3) Prompt the user
    choice = questdlg( ...
        'Another instance of the NM Results Viewer is already open. What would you like to do?', ...
        'Already Open', ...
        'Switch to it','Open anyway','Cancel','Switch to it');

    switch choice
        case 'Switch to it'
            figure(others(1));         % bring the existing one to front
            delete(hObject);           % cancel opening this duplicate
            return

        case 'Open anyway'
            % allow multiple instances (do nothing)
            % (Optional) tweak the Tag to avoid colliding with the existing one
            set(hObject,'Tag',[myTag '_' char(java.util.UUID.randomUUID)]);

        otherwise % 'Cancel' or dialog closed
            delete(hObject);
            return
    end
end

set(hObject,'Visible','off');         % hide whole UI

NM = []; analind = 1; sz = get(0,'ScreenSize'); handles.screensize = sz(3:4);
handles.analind = analind;

% Choose default command line output for NM_Results_Viewer
handles.output = hObject;

set(hObject, 'WindowButtonMotionFcn', @hoverCallback, ...
            'WindowButtonDownFcn', @clickCallback, ...
            'Units','Normalized','Outerposition',[0 0 0.9 0.9]);

ax = handle(handles.axes1);
ax.YAxis.FontSize=10;
ax.XAxis.FontSize=10;
ax.YTickMode='auto';
ax.XTickMode='auto';
ax.YAxis.FontWeight='bold';
ax.XAxis.FontWeight='bold';
ax.Box='on';

handles.lbStartup.String = 'Initializing NM Results Viewer ...';
handles.colpt               = 'o';
handles.colptin             = getNMcolors;
handles.colpl               = '.';
handles.colpx               = '*';
handles.TitleSize           = 20;
handles.TitleWeight         = 'bold';
handles.AxisLabelSize       = 17;
handles.AxisLabelWeight     = 'bold';
handles.AxisTickSize        = 12;
handles.AxisTickWeight      = 'normal';
handles.AxisLineWidth       = 1.5;
handles.ZeroLineWidth       = 1.5;
handles.ErrorMarkerSize     = 12;
handles.ErrorMarkerWidth    = 0.25;
handles.RocAxisLabelSize    = 0.15;
handles.RocAxisLabelWeight  = 'bold';
handles.RocAxisTickSize     = 0.15;
handles.RocAxisTickWeight   = 'normal';
handles.RocAxisLineWidth    = 1;
handles.PieAxisTickSize     = 0.15;
handles.PieAxisTickWeight   = 'normal';
handles.LegendFontSize      = 10;
handles.axes1pos_orig       = [ 0.05807522123893805 ...
                                0.08474576271186443 ...
                                0.36 ...
                                0.775 ];
handles.axes1pos_alt        = [ 0.05807522123893805 ...
                                0.39588377723970947 ...
                                0.36 ...
                                0.475 ];

set(handles.axes1,'Position', handles.axes1pos_orig);                            
set(handles.axes1, 'FontUnits','normalized','FontSize', 0.03, ...
            'FontWeight', handles.AxisTickWeight, ...
            'LineWidth', handles.AxisLineWidth);
set(handles.axes38, ...
            'FontWeight', handles.AxisTickWeight, ...
            'LineWidth', handles.AxisLineWidth);
set(handles.axes2,  'FontUnits','normalized','FontSize', 0.05, ...
            'FontWeight', handles.RocAxisTickWeight, ...
            'LineWidth', handles.RocAxisLineWidth);
set(handles.axes3, ...
            'FontWeight', handles.PieAxisTickWeight);
set(handles.axes4,...
            'FontWeight', handles.PieAxisTickWeight);
set(handles.axes17, 'FontUnits','normalized','FontSize', 0.03, ...
            'FontWeight', handles.AxisTickWeight, ...
            'LineWidth', handles.AxisLineWidth); 
        
%% Load analysis
if handles.screensize(1) < 800
    handles.FontSizeDynamic = 9;
elseif handles.screensize(1) < 1024
    handles.FontSizeDynamic = 10;
elseif handles.screensize(1) < 1280
    handles.FontSizeDynamic = 10.5;
elseif handles.screensize(1) < 1400
    handles.FontSizeDynamic = 11;
else
    handles.FontSizeDynamic = 11.5;
end
nVarIn = length(varargin);
for i = 1:nVarIn
   if strcmpi(varargin{i}, 'AnalysisIndex')
       analind = varargin{i+1};
   elseif strcmpi(varargin{i}, 'NM')
       NM = varargin{i+1};
   end
end

% --- DELETE the built-in menus ----
stdTags = { ...
    'figMenuFile','figMenuEdit','figMenuView', ...
    'figMenuInsert','figMenuTools','figMenuDesktop', ...
    'figMenuWindow','figMenuHelp' };
for k = 1:numel(stdTags)
    h = findall(hObject,'Type','uimenu','Tag',stdTags{k});
    delete(h);
end

% Read-in NM structure
if isempty(NM) 
    try 
        NM = evalin('base', 'NM'); 
    catch
        errordlg('No NM structure found in MATLAB workspace!')
    end
end
handles.NM    = NM; clear NM
guidata(handles.figure1,handles)

% Populate Analysis Selector
handles = load_selAnalysis(handles);
handles.curranal = analind;

% in case alternative label was used, set label and mode
if ~isfield(handles.NM.analysis{1,analind}.params,'label')
    handles.label = handles.NM.label;
    handles.modeflag = handles.NM.modeflag;
else
    handles.label = handles.NM.analysis{1,analind}.params.label.label;
    handles.modeflag = handles.NM.analysis{1,analind}.params.label.modeflag;
end

if height(handles.label) > 800
    handles.DataMarkerSize = 20;
    handles.DataMarkerWidth = 0.25;
    handles.DataMissMarkerSize  = 20;
    handles.DataMissMarkerWidth = 0.25;
elseif height(handles.label) > 600
    handles.DataMarkerSize = 40;
    handles.DataMarkerWidth  = 0.5;
    handles.DataMissMarkerSize  = 40;
    handles.DataMissMarkerWidth = 0.5;
elseif height(handles.label) > 400
    handles.DataMarkerSize = 60;
    handles.DataMarkerWidth = 1.0;
    handles.DataMissMarkerSize  = 60;
    handles.DataMissMarkerWidth = 1.0;
elseif height(handles.label) > 200
    handles.DataMarkerSize = 80;
    handles.DataMarkerWidth = 1.5;
    handles.DataMissMarkerSize = 80;
    handles.DataMissMarkerWidth = 1.5;
else
    handles.DataMarkerSize = 100;
    handles.DataMarkerWidth = 2.0;
    handles.DataMissMarkerSize = 100;
    handles.DataMissMarkerWidth = 2.0;
end

if size(handles.label,2) > 1
    handles.multilabel = true;
else
    handles.multilabel = false;
    handles.curlabel = 1;
end

handles.oocvview = false;
handles.lbStartup.String = 'Retrieve OOCV results if available ...';
handles.OOCVinfo = nk_GetOOCVInfo(handles.NM,'analysis');
handles.lbStartup.String = 'Retrieve Training/CV results ...';
handles = perf_display(handles);
guidata(handles.figure1,handles);
handles.pnStartup.Visible='off';
if isfield(handles,'ExportPredictionsM')
   for i=1:numel(handles.ExportPredictionsM)
        handles.ExportPredictionsM(i).Callback = {@MenuItemPredictions_Callback, hObject};
        handles.ExportPerformanceM(i).Callback = {@MenuItemPerformance_Callback, hObject};
   end
   handles.ExportPredictionsDlg.Callback = {@MenuItemPerfTabulatur_Callback, hObject};
end

if handles.n_analyses>1
    handles.CompModels.Enable = 'on';
else
    handles.CompModels.Enable = 'off';
end

if isfield(handles,'ExportFeaturesM')
    for i=1:numel(handles.ExportFeaturesM)
        handles.ExportFeaturesM(i).Callback = {@MenuItemFeatures_Callback, hObject};
    end
end
handles.axes2.YAxis.Label.Rotation=90;
handles.axes35.YAxis.Label.Rotation=90;
handles.axes37.YAxis.Label.Rotation=90;
handles.axes17.YAxis.Label.Rotation=90;
handles.axes35.Title.FontWeight = "bold";
handles.axes37.Title.FontWeight = "bold";
set(handles.figure1,'Visible','on'); % show whole UI

% --- Outputs from this function are returned to the command line.
function varargout = NM_Results_Viewer_OutputFcn(~, ~, handles)
% varargout  cell array for returning output args (see VARARGOUT);
% hObject    handle to figure
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Get default command line output from handles structure
if isfield(handles,'output')
    varargout{1} = handles.output;
else
    varargout{1}=[];
end
% --- Executes on button press in pushbutton1.
function pushbutton1_Callback(~, ~, handles)
% hObject    handle to pushbutton1 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
axes(handles.axes1);
cla;

% --------------------------------------------------------------------
function FileMenu_Callback(hObject, eventdata, handles)
% hObject    handle to FileMenu (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)


% --------------------------------------------------------------------
function OpenMenuItem_Callback(hObject, eventdata, handles)
% hObject    handle to OpenMenuItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
file = uigetfile('*.fig');
if ~isequal(file, 0)
    open(file);
end

% --- Executes on selection change in popupmenu1.
function popupmenu1_Callback(~, ~, handles)
% hObject    handle to popupmenu1 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = get(hObject,'String') returns popupmenu1 contents as cell array
%        contents{get(hObject,'Value')} returns selected item from popupmenu1

handles = display_main(handles);
guidata(handles.figure1,handles)
                            
% --- Executes during object creation, after setting all properties.
function selModelMeasures_CreateFcn(hObject, eventdata, ~)
% hObject    handle to selModelMeasures (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selYaxis.
function selYaxis_Callback(hObject, eventdata, handles)
% hObject    handle to selYaxis (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selYaxis contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selYaxis

handles = perf_display(handles);
guidata(handles.figure1, handles);

function txtPretestProb_Callback(hObject, eventdata, handles)
% hObject    handle to txtPretestProb (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtPretestProb as text
%        str2double(get(hObject,'String')) returns contents of txtPretestProb as a double
pretest = str2double(char(get(hObject,'String')));
h_class = get(handles.popupmenu1,'Value');
display_piecharts(handles, pretest);

% --- Executes during object creation, after setting all properties.
function txtPretestProb_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtPretestProb (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end
% --- Executes on button press in cmdUpdateX.
function cmdUpdateX_Callback(hObject, eventdata, handles)
% hObject    handle to cmdUpdateX (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

try
    % Get alternative X values from workspace
    Xvalues = evalin('base',char(get(handles.txtXAxisName,'String')));
    if ~isequal(size(Xvalues),size(handles.labels))
        errordlg('Wrong size of X value vector')
    else
        switch handles.modeflag
            case 'classification'
                for h = 1:handles.nclass
                    handles.BinClass{h}.Xaxis = Xvalues(handles.BinClass{h}.ind);
                    handles.BinClass{h}.Xaxis = handles.BinClass{h}.Xaxis(handles.BinClass{h}.sortind);
                end
            case 'regression'
                handles.Regr.Xaxis = Xvalues;
        end
        handles.XaxisName = char(get(handles.txtXAxisName,'String'));
        handles = display_main(handles);
        guidata(handles.figure1, handles);
    end
catch
    errordlg(sprintf('Could not load workspace variable %s not found!',char(get(handles.txtXAxisName,'String'))));
end

% --- Executes on button press in cmdResetX.
function cmdResetX_Callback(hObject, eventdata, handles)
% hObject    handle to cmdResetX (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

if isfield(handles,'XaxisName')
    switch handles.modeflag
        case 'classification'
            for h = 1:handles.nclass
                handles.BinClass{h} = rmfield(handles.BinClass{h},'Xaxis');
            end
        case 'regression'
            handles.Regr = rmfield(handles.Regr,'Xaxis');
    end
    handles = rmfield(handles,'XaxisName');
    handles = display_main(handles);
    guidata(handles.figure1,handles);
end

function txtBinarize_Callback(hObject, eventdata, handles)
% hObject    handle to txtBinarize (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtBinarize as text
%        str2double(get(hObject,'String')) returns contents of txtBinarize as a double
if strcmp(handles.selCVoocv.Enable,'on') && handles.selCVoocv.Value > 1

    [~,oocvind] = get_oocvind(handles);
    if isfield(handles.OOCV(oocvind).data.RegrResults{1},'Group')
        Groups = handles.OOCV(oocvind).data.RegrResults{1}.Group;
        GroupNames = cell(numel(Groups)+1,1);
        GroupNames{1} = 'Show entire OOCV sample';
        for g=2:numel(Groups)+1
            GroupNames{g} = Groups{g-1}.GroupName;
        end
        handles.selSubGroupOOCV.String = GroupNames;
        handles.selSubGroupOOCV.Value = 1;
        handles.selSubGroupOOCV.Visible = 'on';
    else
        handles.selSubGroupOOCV.Value = 1;
        handles.selSubGroupOOCV.Visible = 'off';
    end

    [handles, oocvind] = get_oocvind(handles);
    % Check whether the labels are known
    labels_known = handles.OOCVinfo.Analyses{handles.curranal}.labels_known(oocvind);

    if isfield(handles.OOCV(oocvind).data.RegrResults{handles.curlabel},'PermAnal')
        handles.PermAnal = handles.OOCV(oocvind).data.RegrResults{handles.curlabel}.PermAnal.ModelPermSignificance;
    else
        if isfield(handles,'PermAnal'), handles = rmfield(handles,'PermAnal'); end
    end
    
    if ~labels_known
        handles = display_regrplot_oocv_labels_unknown(handles);
    else
        handles  = display_regrplot(handles, [], false, true, false, 0.2);
        handles.oocvview = true;
        handles  = display_regrplot(handles, [], handles.oocvview, false, true, 0.8);
        load_selCase(handles,handles.OOCVinfo.Analyses{handles.curranal}.cases{handles.oocvind});
    end
else
    handles.oocvview = false;
    if isfield(handles,'PermAnal'), handles = rmfield(handles,'PermAnal'); end
    handles = display_regrplot(handles, [], false, false, true, 0.8);
    handles.selSubGroupOOCV.Value = 1;
    handles.selSubGroupOOCV.Visible = 'off';
    load_selCase(handles,handles.Regr.cases)
end
guidata(handles.figure1,handles);

% --- Executes on selection change in selAnalysis.
function selAnalysis_Callback(hObject, eventdata, handles)
% hObject    handle to selAnalysis (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selAnalysis contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selAnalysis

% Load analysis with pre-specified handle into main figure memory

handles = perf_display(handles);
guidata(handles.figure1,handles);

% --- Executes on selection change in selModelMeasures.
function selModelMeasures_Callback(hObject, eventdata, handles)
% hObject    handle to selModelMeasures (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selModelMeasures contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selModelMeasures
handles = display_main(handles);
guidata(handles.figure1,handles);

function hoverCallback(src, evt)
    
    % Grab the x & y axes coordinate where the mouse is
    axesHdl = get(gcf,'CurrentAxes');
    mousePoint = get(axesHdl, 'CurrentPoint');
    figdata = get(axesHdl,'UserData');
    mousePoint2 = get(gcf,'CurrentPoint');
    if ~isempty(figdata)
        
        mouseX = mousePoint(1,1);
        mouseY = mousePoint(1,2);

        % Compare where data and current mouse point to find the data pointclickCallback
        % which is closest to the mouse point
        distancesToMouse = hypot(figdata.x - mouseX, figdata.y - mouseY);
        [~, indpat] = min(abs(distancesToMouse));

        % If the distance is less than some threshold, set the text
        % object's string to show the data at that point.
        xrange = nk_Range(get(axesHdl, 'Xlim'),2);
        yrange = nk_Range(get(axesHdl, 'Ylim'),2);
        if abs(mouseX - figdata.x(indpat)) < 0.05*xrange && abs(mouseY - figdata.y(indpat)) < 0.05*yrange
            figdata.textHdl.String = {figdata.patterntext{indpat}};
            figdata.hPanel.Position(1) = mousePoint2(1);
            figdata.hPanel.Position(2) = mousePoint2(2);% * (figdata.pnpos(4)/figdata.figpos(4));
            figdata.hPanel.Visible='on';
            figdata.textHdl.Visible='on';
        else
            figdata.hPanel.Visible='off';
        end
        set(axesHdl,'UserData',figdata);
        
    end

function clickCallback(src, evt)
    
    %handles = guidata(gcf);
    %handles=[];
    % Grab the x & y axes coordinate where the mouse is
    axesHdl = get(gcf,'CurrentAxes');
    mousePoint = get(axesHdl, 'CurrentPoint');
    figdata = get(axesHdl,'UserData');
    handles = guidata(gcf);
    if ~isempty(figdata)
        
        mouseX = mousePoint(1,1);
        mouseY = mousePoint(1,2);

        % Compare where data and current mouse point to find the data point
        % which is closest to the mouse point
        distancesToMouse = hypot(figdata.x - mouseX, figdata.y - mouseY);
        [~, indpat] = min(abs(distancesToMouse));

        % If the distance is less than some threshold, set the text
        % object's string to show the data at that point.
        xrange = nk_Range(get(axesHdl, 'Xlim'),2);
        yrange = nk_Range(get(axesHdl, 'Ylim'),2);
        if abs(mouseX - figdata.x(indpat)) < 0.035*xrange && abs(mouseY - figdata.y(indpat)) < 0.035*yrange
            x1 = figdata.x(indpat);
            y1 = figdata.y(indpat);
            axes(handles.axes1); 
            if isfield(figdata,'cases')
                selCase = figdata.cases{indpat};
                if isfield(handles,'caseplot'), delete(handles.caseplot); end
                handles.caseplot = plot(x1,y1,'ko','MarkerSize',20, 'LineWidth',1.5);
                handles.selCase.Value = find(~cellfun(@isempty,strfind(handles.selCase.String,selCase)));
            end
            try
                if isfield(handles, 'MLIdata') && ~isempty(handles.MLIdata)
                    handles.thisMLIresult.Visible = 'on';
                    handles.curCase = indpat;
                    if ~isnumeric(handles.MLIapp) && isvalid(handles.MLIapp)
                        updateFcn(handles.MLIapp, handles)
                    end
                else 
                    handles.thisMLIresult.Visible = 'off';
                end
                if isfield(figdata,'cases'), axesHdl.Legend.String{end} = selCase; end
            catch
            end
        end
        set(axesHdl,'UserData',figdata);
        guidata(handles.figure1,handles);
    end
    
    % --------------------------------------------------------------------
function PrintMenuItem_Callback(hObject, eventdata, handles)
% hObject    handle to PrintMenuItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
export_fig(handles.pnBinary,'-painters','Classification_Plot.png')
%printdlg(handles.figure1)

% --------------------------------------------------------------------
function CloseMenuItem_Callback(hObject, eventdata, handles)
% hObject    handle to CloseMenuItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
selection = questdlg(['Quit ' get(handles.figure1,'Name') '?'],...
                     ['Quit' get(handles.figure1,'Name') '...'],...
                     'Yes','No','Yes');
if strcmp(selection,'No')
    return;
end

delete(handles.figure1)

% --- Executes during object creation, after setting all properties.
function txtBinarize_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtBinarize (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selLabel.
function selLabel_Callback(hObject, eventdata, handles)
% hObject    handle to selLabel (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selLabel contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selLabel
handles = perf_display(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selLabel_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selLabel (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selOneVsAll_Info.
function selOneVsAll_Info_Callback(hObject, eventdata, handles)
% hObject    handle to selOneVsAll_Info (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selOneVsAll_Info contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selOneVsAll_Info

%% Display ROC

handles = sel_onevsone(handles, hObject);
handles = display_multiclassplot(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selOneVsAll_Info_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selOneVsAll_Info (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

function txtXAxisName_Callback(hObject, eventdata, ~)
% hObject    handle to txtXAxisName (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtXAxisName as text
%        str2double(get(hObject,'String')) returns contents of txtXAxisName as a double

% --- Executes during object creation, after setting all properties.
function txtXAxisName_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtXAxisName (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes during object creation, after setting all properties.
function selAnalysis_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selAnalysis (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes during object creation, after setting all properties.
function selYaxis_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selYaxis (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.

if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in cmdResetXBinary.
function cmdResetXBinary_Callback(hObject, eventdata, handles)
% hObject    handle to cmdResetXBinary (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

function txtXAxis_Callback(hObject, eventdata, handles)
% hObject    handle to txtXAxis (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtXAxis as text
%        str2double(get(hObject,'String')) returns contents of txtXAxis as a double

% --- Executes during object creation, after setting all properties.
function txtXAxis_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtXAxis (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in cmdUpdatePies.
function cmdUpdatePies_Callback(hObject, eventdata, ~)
% hObject    handle to cmdUpdatePies (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --- Executes during object creation, after setting all properties.
function popupmenu1_CreateFcn(hObject, eventdata, handles)
% hObject    handle to popupmenu1 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
     set(hObject,'BackgroundColor','white');
end

% --------------------------------------------------------------------
function ExportMenuItem_Callback(hObject, eventdata, handles)
% hObject    handle to ExportMenuItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --------------------------------------------------------------------
function SaveMenuItem_Callback(hObject, eventdata, handles)
% hObject    handle to SaveMenuItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --------------------------------------------------------------------
function AppearMenuItem_Callback(hObject, eventdata, handles)
% hObject    handle to AppearMenuItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --- Executes during object creation, after setting all properties.
function axes17_CreateFcn(hObject, eventdata, handles)
% hObject    handle to axes17 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: place code in OpeningFcn to populate axes17

% --- Executes on selection change in selModality.
function selModality_Callback(hObject, eventdata, handles)
% hObject    handle to selModality (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selModality contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selModality

if hObject.Value == 1 && strcmp(hObject.String{1}, '↗ Inspect modality statistics…')
    display_plot_modality_shares(handles);
elseif strcmp(hObject.String{1}, '↗ Inspect modality statistics…')
    handles.curmodal = hObject.Value-1;
    load_selVisMeasDropDown(handles);
    load_selComponents(handles.selComponent, handles.visdata{handles.curmodal}, handles.curclass);
    handles = display_visual(handles);
else
    load_selVisMeasDropDown(handles);
    load_selComponents(handles.selComponent, handles.visdata{handles.curmodal}, handles.curclass);
    handles.curmodal = hObject.Value;
    handles = display_visual(handles);
end
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selModality_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selModality (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selVisMeas.
function selVisMeas_Callback(hObject, eventdata, handles)
% hObject    handle to selVisMeas (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selVisMeas contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selVisMeas

handles = display_visual(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selVisMeas_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selVisMeas (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selPager.
function selPager_Callback(hObject, eventdata, handles)
% hObject    handle to selPager (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selPager contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selPager

handles = display_visual(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selPager_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selPager (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in popupSortFeat.
function popupSortFeat_Callback(hObject, eventdata, handles)
% hObject    handle to tglSortFeat (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

handles = display_visual(handles);
guidata(handles.figure1,handles);

function btnPosColor_Callback(hObject, ~, handles)
    hFig = ancestor(hObject,'figure');
    c0   = getappdata(hFig,'posBarColor');
    if isempty(c0), c0 = [0.85 0.15 0.15]; end
    c = uisetcolor(c0, 'Pick color for POSITIVE bars');
    if isnumeric(c) && numel(c)==3
        setappdata(hFig,'posBarColor',c);
        set(hObject,'BackgroundColor',c);
        % sync into handles if present, then redraw
        if nargin<3 || isempty(handles), handles = guidata(hFig); end
        if ~isempty(handles) && isfield(handles,'figure1')
            handles.posBarColor = c; guidata(hFig,handles);
            handles = display_visual(handles);
            guidata(hFig,handles);
        end
    end

function btnNegColor_Callback(hObject, ~, handles)
    hFig = ancestor(hObject,'figure');
    c0   = getappdata(hFig,'negBarColor');
    if isempty(c0), c0 = [0.15 0.35 0.85]; end
    c = uisetcolor(c0, 'Pick color for NEGATIVE bars');
    if isnumeric(c) && numel(c)==3
        setappdata(hFig,'negBarColor',c);
        set(hObject,'BackgroundColor',c);
        % sync into handles if present, then redraw
        if nargin<3 || isempty(handles), handles = guidata(hFig); end
        if ~isempty(handles) && isfield(handles,'figure1')
            handles.negBarColor = c; guidata(hFig,handles);
            handles = display_visual(handles);
            guidata(hFig,handles);
        end
    end

% --- Executes on button press in cmdExportFeats.
function cmdExportFeats_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportFeats (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

export_features(handles, 0);

% --- Executes on button press in cmdExportScores.
function cmdExportScores_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportScores (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

export_scores(handles, 0);

% --- Executes on button press in cmdMetricExport.
function cmdMetricExport_Callback(hObject, eventdata, handles)
% hObject    handle to cmdMetricExport (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

export_performance(handles, 0);

% --- Executes on selection change in selModal.
function selModal_Callback(hObject, eventdata, handles)
% hObject    handle to selModal (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selModal contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selModal
if strcmp(hObject.String(hObject.Value),'Bagged predictor'), handles.curmodal = hObject.Value-1; end
handles = perf_display(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selModal_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selModal (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in cmdSubgroupSet.
function cmdSubgroupSet_Callback(hObject, eventdata, handles)
% hObject    handle to cmdSubgroupSet (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

try
    % Get alternative X values from workspace
    I = evalin('base',char(get(handles.txtSubgroupSet,'String'))); [nI, mI] = size(I);
    if mI>1, errordlg('You entered a matrix, but a vector is required'); end
    if ~islogical(I), errordlg('A logical vector is required.'); end
    if handles.oocvview
        nC = numel(handles.OOCVinfo.Analyses{handles.curranal}.cases{handles.oocvind});
    else
        nC = size(handles.label,1);
    end
    if nI ~= nC, errordlg(sprintf('The logical subgroup vector must have %g entries.',nC)); end
    handles.SubIndex = I;
    handles = perf_display(handles);
    guidata(handles.figure1,handles);
catch ERR
    errordlg(sprintf('Error: %s!',ERR.message))
end

% --- Executes on button press in cmdSubgroupClear.
function cmdSubgroupClear_Callback(hObject, eventdata, handles)
% hObject    handle to cmdSubgroupClear (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

if isfield(handles,'SubIndex'), handles = rmfield(handles,'SubIndex'); end
handles = perf_display(handles);
guidata(handles.figure1,handles);

function txtSubgroupSet_Callback(hObject, eventdata, handles)
% hObject    handle to txtSubgroupSet (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtSubgroupSet as text
%        str2double(get(hObject,'String')) returns contents of txtSubgroupSet as a double

% --- Executes during object creation, after setting all properties.
function txtSubgroupSet_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtSubgroupSet (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in cmdExportAxes1.
function cmdExportAxes1_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportAxes1 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

titl = handles.selYaxis.String{handles.selYaxis.Value};
if strcmp(handles.axes38.Visible,'on')
    h_md_anal = [h_src handles.axes38];
else
    h_md_anal = [];
end
copyobj_subplot([handles.axes1 handles.legend_classplot h_md_anal], titl);

function [h_new, targ] = copyobj_subplot(obj, titl, targ, pos)

if ~exist('targ','var') || isempty(targ),
    targ = figure;
end

if ~exist('pos','var')
    pos = [0.12 0.15 0.85 0.7];
end

h_new = copyobj(obj,targ);
h_new(1).Position = pos; 
h_new(1).Title.String = titl;

% --- Executes on button press in cmdExportAxes2.
function cmdExportAxes2_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportAxes2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
titl = 'ROC analysis';
h_ax = copyobj_subplot(handles.axes2, titl, [], [0.2 0.15 0.6 0.75] );
h_ax.Title.FontWeight = 'bold';

% --- Executes on button press in cmdExportPies.
function cmdExportPies_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportPies (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
% Prepare the pie chart descriptors
switch handles.modeflag
    case 'classification'
        h_class = get(handles.popupmenu1,'Value');
        h_onevsall_val  = get(handles.selOneVsAll_Info,'Value');
        h_classlist     = get(handles.popupmenu1,'String');
        if strcmpi(h_classlist{h_class},'Multi-group classifier') && h_onevsall_val > 1
            colind = h_onevsall_val-1;
            groupnames = {handles.NM.groupnames{colind}, 'REST'};
            cl1 = handles.colptin{colind};
            cl2 = [0.6 0.6 0.6];
        else
             groupnames = handles.BinClass{h_class}.groupnames;
            cl1 = handles.colptin(handles.BinClass{h_class}.groupind(1),:);
            cl2 = handles.colptin(handles.BinClass{h_class}.groupind(2),:);
        end
    case 'regression'
        thesh = get(handles.txtBinarize,'String');
        groupnames{1} = sprintf('Group 1 (>=%s)',thesh);
        groupnames{2} = sprintf('Group 2 (< %s)',thesh);
        cl1 = [0.5 0.5 0.5]; cl2 = [0.5 0.5 0.5];
end

hpie = copyobj_subplot(handles.axes3, [], [], [0.2 0.15 0.6 0.75] );
hpie.Title.String = sprintf('Prognostic gain: %s',groupnames{1});
hpie.Title.Position(2)=1.2;
hp = findobj(hpie, 'Type', 'patch');
if numel(hp)==2,
    set(hp(2), 'FaceColor', cl1, 'FaceAlpha', 0.3);
end
set(hp(1), 'FaceColor', cl1, 'FaceAlpha', 1);


hpie = copyobj_subplot(handles.axes4, [], [], [0.2 0.15 0.6 0.75] );
hpie.Title.String = sprintf('Prognostic gain: %s',groupnames{2});
hpie.Title.Position(2)=1.2;
hp = findobj(hpie, 'Type', 'patch');
if numel(hp)==2,
    set(hp(2), 'FaceColor', cl2,'FaceAlpha', 0.3);
end
set(hp(1), 'FaceColor', cl2, 'FaceAlpha', 1);

% --- Executes on button press in cmdExportCobWeb.
function cmdExportCobWeb_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportCobWeb (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
hcobweb = copyobj_subplot(handles.axes5, [], [], [0.2 0.10 0.6 0.75] );

% --- Executes on button press in cmdExportModelPerfVec.
function cmdExportModelPerfVec_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportModelPerfVec (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
titl = 'Model performance across parameter combinations';
[h_ax, h_fig] = copyobj_subplot([handles.axes17 handles.legend_modelperf], titl, [], [0.15 0.15 0.75 0.75] );
h_ax(1).Title.FontWeight = 'bold';
h_fig.Units = 'normalized';
h_fig.Position = [0.1 0.1 0.5 0.7];

% --- Executes on button press in cmdExportModelPerfC2.
function cmdExportModelPerfC2_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportModelPerfC2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
titl = 'Mean model performance across CV2 partitions';
h_ax = copyobj_subplot(handles.axes37, titl, [], [0.2 0.25 0.6 0.6] );
h_ax.Title.FontWeight = 'bold';
xlabel('Folds')
h_c=colorbar(h_ax,'location','SouthOutside');
h_c.Position(2) = 0.07; h_c.Position(4) = .05;

% --- Executes on button press in cmdExportModelPerfC1.
function cmdExportModelPerfC1_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportModelPerfC1 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
titl = 'Mean model performance across CV1 partitions';
h_ax = copyobj_subplot(handles.axes35, titl, [], [0.2 0.25 0.6 0.6] );
h_ax.Title.FontWeight = 'bold';
xlabel('Folds')
h_c = colorbar(h_ax,'location','SouthOutside');
h_c.Position(2) = 0.07; h_c.Position(4) = .05;

% --- Executes on button press in cmdExportAxes20.
function cmdExportAxes20_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportAxes20 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
titl = 'Confusion matrix';
h_ax = copyobj_subplot(handles.axes20, titl, [], [0.2 0.15 0.6 0.75] );
h_ax.Title.FontWeight = 'bold';
colormap(flipud(gray));

% --- Executes on button press in tglSort.
function tglSort_Callback(hObject, eventdata, handles)
% hObject    handle to tglSort (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hint: get(hObject,'Value') returns toggle state of tglSort
handles = perf_display(handles);
guidata(handles.figure1,handles);

% --- Executes on button press in cmdExportFeatFig.
function cmdExportFeatFig_Callback(hObject, eventdata, handles)
% hObject    handle to cmdExportFeatFig (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
%if handles.sel

titl = handles.selVisMeas.String{handles.selVisMeas.Value};
h_ax = copyobj_subplot(handles.axes33, titl, [], [0.2 0.15 0.6 0.75] );
h_ax.Title.FontWeight = 'bold';

function axes1_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selModelMeasures (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called


% --- Executes on selection change in selCVoocv.
function selCVoocv_Callback(hObject, eventdata, handles)
% hObject    handle to selCVoocv (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selCVoocv contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selCVoocv

handles = display_main(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selCVoocv_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selCVoocv (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selCase.
function selCase_Callback(hObject, eventdata, handles)
% hObject    handle to selCase (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selCase contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selCase
contents = cellstr(get(hObject,'String'));
selCase = hObject.String{hObject.Value};
selCaseX2 = strsplit(selCase,' | ');
selCaseX = selCaseX2{2};
CaseId = str2num(contents{get(hObject,'Value')}) ;
AxesData = handles.axes1.UserData;
I = find(~cellfun(@isempty,strfind(AxesData.cases,selCaseX)));
x1 = AxesData.x(I);
y1 = AxesData.y(I);
figpos = dsxy2figxy(handles.axes1,x1,y1);
axes(handles.axes1); 
%[figx,figy] = dsxy2figxy(handles.axes1,[x1 y1],[x2 y2]);
if isfield(handles,'caseplot'), delete(handles.caseplot); end
handles.caseplot = plot(x1,y1,'ko','MarkerSize',20, 'LineWidth',1.5);
if isfield(handles, 'MLIdata') && ~isempty(handles.MLIdata)
    handles.thisMLIresult.Visible = 'on';
    handles.curCase = handles.selCase.Value;

    if ~isnumeric(handles.MLIapp) && isvalid(handles.MLIapp)
        updateFcn(handles.MLIapp, handles)
    end
else 
    handles.thisMLIresult.Visible = 'off';
end
% if strcmp(handles.axes1.Legend.Interpreter,'latex')
%     handles.axes1.Legend.Interpreter = 'none';
% end
handles.axes1.Legend.String{end} = selCaseX;
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selCase_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selCase (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

function selCase_KeyPressFcn(hObject, eventdata, handles)
% hObject    handle to selCase (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selCase contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selCase

% --- If Enable == 'on', executes on mouse press in 5 pixel border.
% --- Otherwise, executes on mouse press in 5 pixel border or over cmdExportScores.
function cmdExportScores_ButtonDownFcn(hObject, eventdata, handles)
% hObject    handle to cmdExportScores (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --------------------------------------------------------------------
function ExportPredictionsMenu_Callback(hObject, eventdata, handles)
% hObject    handle to ExportPredictionsMenu (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --------------------------------------------------------------------
function ExportPerformanceMenu_Callback(hObject, eventdata, handles)
% hObject    handle to ExportPerformanceMenu (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

function MenuItemPerfTabulatur_Callback(hObject, eventdata, figure_handle)

handles = guidata(figure_handle);
display_tablegenerator(handles);

function MenuItemPerformance_Callback(hObject, eventdata, figure_handle)

handles = guidata(figure_handle);
PrintFromMenuClick(hObject, handles, 'export_performance')

function MenuItemPredictions_Callback(hObject, eventdata, figure_handle)

handles = guidata(figure_handle);
PrintFromMenuClick(hObject, handles, 'export_scores')

function MenuItemFeatures_Callback(hObject, eventdata, figure_handle)

handles = guidata(figure_handle);
PrintFromMenuClick(hObject, handles, 'export_features')

function PrintFromMenuClick(hObject, handles, ExportFunc)

curranal = handles.selAnalysis.Value;
if strcmp(hObject.Tag,'All')
    for i=1:numel(handles.NM.analysis)
        try
            analind = i;
            handles.curranal = analind;
            handles = switch_analysis(handles); 
            fprintf('\nProcessing analysis %g [ ID: %s ]',i, handles.NM.analysis{i}.id);
            feval(ExportFunc,handles,1);
            handles.curranal = curranal;  handles = switch_analysis(handles);
            guidata(handles.figure1,handles);
        catch
            warning('\nProcessing of analysis %g [ ID: %s ] failed',i, handles.NM.analysis{i}.id);
        end
    end
else
    analind = str2double(hObject.Tag);
    if analind ~= handles.curranal
        curranal = handles.curranal;
        handles.curranal = analind;
        handles = switch_analysis(handles); 
    end
    fprintf('\nProcessing analysis %g [ ID: %s ]',analind, handles.NM.analysis{analind}.id);
    feval(ExportFunc,handles,1);
    if curranal ~= handles.curranal
        handles.curranal = curranal;  handles = switch_analysis(handles);
    end
    guidata(handles.figure1,handles);
end   

% --------------------------------------------------------------------
function CompModels_Callback(hObject, eventdata, handles)
% hObject    handle to CompModels (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --------------------------------------------------------------------
function CompModelsStats_Callback(hObject, eventdata, handles)
% hObject    handle to CompModelsStats (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

display_comparator(handles, 'stats');
drawnow

% --- Executes on selection change in selSubParam.
function selSubParam_Callback(hObject, eventdata, handles)
% hObject    handle to selSubParam (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selSubParam contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selSubParam

if handles.curmodal <= numel(handles.params.TrainParam.FUSION.M)
    handles = display_SubParam(handles);
    guidata(handles.figure1,handles);
end

% --- Executes during object creation, after setting all properties.
function selSubParam_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selSubParam (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --------------------------------------------------------------------
function CompModelsVisual_Callback(hObject, eventdata, handles)
% hObject    handle to CompModelsVisual (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

display_comparator(handles, 'visual');

function txtPager_Callback(hObject, eventdata, handles)
% hObject    handle to txtPager (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtPager as text
%        str2double(get(hObject,'String')) returns contents of txtPager as a double

handles = display_visual(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function txtPager_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtPager (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

function txtAlterFeats_Callback(hObject, eventdata, handles)
% hObject    handle to txtAlterFeats (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtAlterFeats as text
%        str2double(get(hObject,'String')) returns contents of txtAlterFeats as a double

handles = display_visual(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function txtAlterFeats_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtAlterFeats (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on selection change in selVisMeas2.
function selVisMeas2_Callback(hObject, eventdata, handles)
% hObject    handle to selVisMeas2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selVisMeas2 contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selVisMeas2
handles = display_visual(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selVisMeas2_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selVisMeas2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

function txtThrVisMeas2_Callback(hObject, eventdata, handles)
% hObject    handle to txtThrVisMeas2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: get(hObject,'String') returns contents of txtThrVisMeas2 as text
%        str2double(get(hObject,'String')) returns contents of txtThrVisMeas2 as a double
handles = display_visual(handles);
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function txtThrVisMeas2_CreateFcn(hObject, eventdata, handles)
% hObject    handle to txtThrVisMeas2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: edit controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in tglVisMeas2.
function tglVisMeas2_Callback(hObject, eventdata, handles)
% hObject    handle to tglVisMeas2 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hint: get(hObject,'Value') returns toggle state of tglVisMeas2
handles = display_visual(handles);
guidata(handles.figure1,handles);


% --- Executes on button press in tglPercRank.
function tglPercRank_Callback(hObject, eventdata, handles)
% hObject    handle to tglPercRank (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hint: get(hObject,'Value') returns toggle state of tglPercRank
if handles.tglP.Value, handles.tglP.Value = 0; end
if handles.oocvview
    handles = display_classplot_oocv(handles.curclass, handles);
else
    handles = display_classplot(handles.curclass, handles);
end

guidata(handles.figure1,handles);

% --- Executes on button press in thisMLIresult.
function thisMLIresult_Callback(hObject, eventdata, handles)
% hObject    handle to thisMLIresult (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
%copyobj_subplot([handles.axes1 handles.legend_classplot h_md_anal], titl);

%barMLI(handles, handles.curCase);%, handles.MLIdata.Label.BinResults.Modality, ...
        %handles.visdata{1,1}.params.features, ...
        %handles.NM.Y{1}, ...
        %0);
        if isnumeric(handles.MLIapp)
            handles.MLIapp = appMLI(handles);
        elseif ~isvalid(handles.MLIapp)
            handles.MLIapp.delete; 
            handles.MLIapp  = appMLI(handles);
        elseif ~isnumeric(handles.MLIapp) && isvalid(handles.MLIapp)
            updateFcn(handles.MLIapp, handles);
        end
    guidata(handles.figure1,handles);

% --- Executes on button press in tglClrSwp.
function tglClrSwp_Callback(hObject, eventdata, handles)
% hObject    handle to tglClrSwp (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hint: get(hObject,'Value') returns toggle state of tglClrSwp
if handles.oocvview
    handles = display_classplot_oocv(handles.curclass, handles);
else
    handles = display_classplot(handles.curclass, handles);
end
guidata(handles.figure1,handles);

%if isfield(handles, 'MLIapp') && ~isnumeric(handles.MLIapp)
%    updateFcn(handles.MLIapp,handles);
%end

% --- Executes on button press in spiderPlotButton.
function spiderPlotButton_Callback(hObject, eventdata, handles)
% hObject    handle to spiderPlotButton (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

appSpiderPlot(handles);

% --- If Enable == 'on', executes on mouse press in 5 pixel border.
% --- Otherwise, executes on mouse press in 5 pixel border or over spiderPlotButton.
function spiderPlotButton_ButtonDownFcn(hObject, eventdata, handles)
% hObject    handle to spiderPlotButton (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)


% --- Executes on selection change in selSubGroupOOCV.
function selSubGroupOOCV_Callback(hObject, eventdata, handles)
% hObject    handle to selSubGroupOOCV (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selSubGroupOOCV contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selSubGroupOOCV
[handles, oocvind] = get_oocvind(handles);
g_oocvind = handles.OOCVinfo.Analyses{handles.curranal}.OOCVvec(oocvind);
if hObject.Value > 1
    gindex = hObject.Value-1; gIdx = gindex; refgroup_flag = false;
    if isfield(handles.NM.OOCV{g_oocvind},'refgroup') 
        if gindex >= handles.NM.OOCV{g_oocvind}.refgroup, gindex = gindex + 1; end
        refgroup_flag = true;
    end
    if ~islogical(handles.NM.OOCV{g_oocvind}.groups)
        groups = nk_MakeDummyVariables(handles.NM.OOCV{g_oocvind}.groups,[],'sorted');
    else
        groups = handles.NM.OOCV{g_oocvind}.groups;
    end
    if refgroup_flag
        gindex = [gindex handles.NM.OOCV{g_oocvind}.refgroup];
    end
    
    handles.SubIndex = any(groups(:,gindex),2);
    switch handles.modeflag
        case 'classification'
            if isfield(handles,'MultiClass'), fldname = 'MultiResults'; else, fldname = 'BinResults'; end
            if isfield(handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.(fldname){handles.curlabel}.Group{gIdx},'PermAnal')
                handles.PermAnal = handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.(fldname){handles.curlabel}.Group{gIdx}.PermAnal.ModelPermSignificance(handles.curclass);
            else
                if isfield(handles,'PermAnal'), handles = rmfield(handles,'PermAnal'); end
            end
        case 'regression'
            if isfield(handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.RegrResults{handles.curlabel}.Group{gIdx},'PermAnal')
                handles.PermAnal = handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.RegrResults{handles.curlabel}.Group{gIdx}.PermAnal.ModelPermSignificance;
            else
                if isfield(handles,'PermAnal'), handles = rmfield(handles,'PermAnal'); end
            end
    end
else
    if isfield(handles,'SubIndex') 
        handles = rmfield(handles,'SubIndex');
    end
    switch handles.modeflag
        case 'classification'
            if isfield(handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.BinResults{1},'PermAnal')
                handles.PermAnal = handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.BinResults{1}.PermAnal.ModelPermSignificance(handles.curclass);
            else
                if isfield(handles,'PermAnal'), handles = rmfield(handles,'PermAnal'); end
            end
        case 'regression'
            if isfield(handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.RegrResults{1},'PermAnal')
                handles.PermAnal = handles.NM.analysis{handles.curranal}.OOCV{g_oocvind}.RegrResults{1}.PermAnal.ModelPermSignificance;
            else
                if isfield(handles,'PermAnal'), handles = rmfield(handles,'PermAnal'); end
            end
    end
end
switch handles.modeflag
    case 'classification'
        handles = display_classplot_oocv(handles.curclass, handles);
    case 'regression'
        handles.oocvview = false;
        handles  = display_regrplot(handles, [], false, true, false, 0.2);
        handles.oocvview = true;
        handles  = display_regrplot(handles, [], true, false, true, 0.8);
        load_selCase(handles,handles.OOCVinfo.Analyses{handles.curranal}.cases{handles.oocvind});
end
guidata(handles.figure1,handles);

% --- Executes during object creation, after setting all properties.
function selSubGroupOOCV_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selSubGroupOOCV (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end

% --- Executes on button press in tglP.
function tglP_Callback(hObject, eventdata, handles)
% hObject    handle to tglP (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hint: get(hObject,'Value') returns toggle state of tglP
if handles.tglPercRank.Value, handles.tglPercRank.Value = 0; end
if hObject.Value==1 
    hObject.String = 'Probs→Scores'; 
    [~,~,~,~,~,~,handles] = perf_calibration(handles);
else
    hObject.String='Scores→Probs';
    [~,~,~,~,~,~,handles] = perf_calibration(handles, 'none');
end

guidata(handles.figure1, handles);
if handles.oocvview
    handles = display_classplot_oocv(handles.curclass, handles);
else
    handles = display_classplot(handles.curclass, handles);
end

guidata(handles.figure1,handles);

% --- Executes on button press in cmdCalib.
function cmdCalib_Callback(hObject, eventdata, handles)
% hObject    handle to cmdCalib (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

[Labels, Probabilities, Labels_oocv, Probabilities_oocv, Title, Method, handles] = perf_calibration(handles);
guidata(handles.figure1, handles);
if ~strcmp(Method,'none')
    Titlestr = sprintf('Decision Curve (%s) [Calibration: %s]', Title, Method);
else
    Titlestr = sprintf('Decision Curve (%s)', Title);
end
%Still needs to be changed to display_calibcurve(Labels, Probabilities, Labels_oocv, Probabilities_oocv, Titlestr); 
display_calibcurve(Labels, Probabilities, Titlestr); 

% --- Executes on button press in cmdPerfDCA.
function cmdPerfDCA_Callback(hObject, eventdata, handles)
% hObject    handle to cmdPerfDCA (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

[Labels, Probabilities, Labels_oocv, Probabilities_oocv, Title, Method, handles] = perf_calibration(handles);
guidata(handles.figure1, handles);
if ~strcmp(Method,'none')
    Titlestr = sprintf('Decision Curve (%s) [Calibration: %s]', Title, Method);
else
    Titlestr = sprintf('Decision Curve (%s)', Title);
end
display_dcacurve(Labels, Probabilities, Labels_oocv, Probabilities_oocv, Titlestr)

% ____________________________________________________________________________________

function [Labels, Probs, Labels_oocv, Probs_oocv, Title, Method, handles] = perf_calibration(handles, Method)

methods = {'Platt Scaling', 'Isotonic Regression', 'Bayesian Binning into Quantiles (BBQ)', 'No Calibration'};
methodcmd = {'platt','isotonic','bbq','none'};
Labels_oocv = []; Probs = []; Probs_oocv = []; Title = [];
% Initialize variables
recompute = false;
offsetIndex = 0;  % default offset removal

if handles.params.probflag
    % Probabilistic algorithms do not require output calibration! 
    calibrationExists = true;
    defaultCalibrationMethod = methods{end};
else
    % Check for existing calibration
    calibrationExists = isfield(handles.BinClass{handles.curclass},'Calibration'); 
    if calibrationExists
        defaultCalibrationMethod = methods{contains(methodcmd,handles.BinClass{handles.curclass}.Calibration.Method)};
    else
        defaultCalibrationMethod = methods{1};
    end
end

% Interactive dialogue if method is not specified or calibration needed
if (~exist('Method','var') || isempty(Method)) && ~handles.params.probflag
    fig = uifigure('Name','Calibration Method Selection','Position',[100 100 350 260]);
    % Calibration method dropdown
    ddl = uidropdown(fig,'Items',methods,'Position',[50 200 250 30],'Value',defaultCalibrationMethod);
    % Recompute checkbox
    if calibrationExists, cb_enabled = 'on'; else, cb_enabled = 'off'; end
    cb = uicheckbox(fig,'Text','Recompute Calibration','Position',[50 170 250 25],'Value',false,'Enable',cb_enabled);
    % Offset removal dropdown if OOCV
    if handles.oocvview
        offsetMethods = {'None', ...
                            sprintf('Remove offset using %s data', ...
                                handles.NM.groupnames{handles.NM.analysis{handles.analind}.params.cv.class{1,1}{handles.curclass}.groups(1)}), ...
                            sprintf('Remove offset using %s data', ...
                                handles.NM.groupnames{handles.NM.analysis{handles.analind}.params.cv.class{1,1}{handles.curclass}.groups(2)}), ...
                            'Remove offset using all training data'};
        offsetData = {0,1,2,3};
        od = uidropdown(fig,'Items',offsetMethods,'ItemsData',offsetData,'Position',[50 110 250 30],'Value',0);
        uilabel(fig,'Text','Offset Removal:','Position',[50 145 100 15]);
    else
        od = [];
    end
    % OK button: store and resume
    btn = uibutton(fig,'push','Text','OK','Position',[125 40 100 30], 'ButtonPushedFcn',@(b,~)okAndResume(fig,ddl,cb,od));
    % initialize UserData
    fig.UserData = struct('selectedMethod',defaultCalibrationMethod,'recompute',false,'offsetIndex',0);
    uiwait(fig);
    % After resume
    data = fig.UserData;
    if isempty(data) || ~isfield(data,'selectedMethod')
        warning('No selection.'); Labels=[];Probs=[];Title='';return;
    end
    selectedMethod = data.selectedMethod;
    recompute = data.recompute;
    if isfield(data,'offsetIndex'), offsetIndex = data.offsetIndex; end
    delete(fig);
    Method = methodcmd{strcmp(methods,selectedMethod)};
end

% Training labels & scores
Labels = handles.BinClass{handles.curclass}.labelh; Labels(Labels==-1)=0;
DecisionScores = handles.BinClass{handles.curclass}.mean_predictions;
if isfield(handles,'SubIndex'), SubI = handles.SubIndex; else, SubI = true(size(DecisionScores,1),1); end

% Extract OOCV data if requested
if handles.oocvview
    if isfield(handles,'MultiClass'), P_fld='MultiResults'; else, P_fld='BinResults'; end
    Labels_oocv = handles.OOCV(handles.oocvind).data.(P_fld){1}.BinLabels{handles.curclass}; Labels_oocv(Labels_oocv==-1)=0;
    DecisionScores_oocv = handles.OOCV(handles.oocvind).data.(P_fld){1}.MeanCV2PredictedValues{handles.curclass};
end

% Apply offset removal to OOCV scores
if handles.oocvview && offsetIndex>0
    switch offsetIndex
        case 1
            idx = Labels == 1;
            idx_oocv = Labels_oocv == 1;
        case 2 
            idx = Labels == 0;
            idx_oocv = Labels_oocv == 0;
        case 3
            idx = true(size(Labels));
            idx_oocv = true(size(Labels_oocv));
    end
    medTrain = median(DecisionScores(idx));
    medOOCV = median(DecisionScores_oocv(idx_oocv));
    DecisionScores_oocv = DecisionScores_oocv + (medTrain - medOOCV);
end

% Calibration and probability transform
if ~handles.params.probflag
    if ~strcmp(Method,'none')
        needsRecalc = recompute || ~calibrationExists || ~isequal(handles.BinClass{handles.curclass}.Calibration.SubI,SubI) ...
            ||  ~isequal(handles.BinClass{handles.curclass}.Calibration.Method, Method) ...
            || (handles.oocvview && (~isfield(handles.OOCV(handles.oocvind).data.(P_fld){1},'Calibration') ...
                || isempty(handles.OOCV(handles.oocvind).data.(P_fld){1}.Calibration)));
        if needsRecalc
            Probs = probtransform(Labels, DecisionScores, [], Method);
            if handles.oocvview, Probs_oocv = probtransform(Labels, DecisionScores, DecisionScores_oocv, Method); end
            Title = handles.selAnalysis.String{handles.selAnalysis.Value};
            % … main code …
            probColName = sprintf('Probs_%s', Method);          % reused below if needed

            % store calibration for the current class
            C = struct('Labels',  Labels, ...
                'Probabilities', Probs, ...
                'SubI',  SubI, ...
                'Title', Title, ...
                'Method', Method);
            handles.BinClass{handles.curclass}.Calibration = C;

            % update the BinClass table
            tbl                       = handles.BinClass{handles.curclass}.tbl;
            handles.BinClass{handles.curclass}.tbl = upsertProbsColumn(tbl, Probs, Method);

            % update OOCV view (if present)
            if handles.oocvview
                Odata = handles.OOCV(handles.oocvind).data.(P_fld){1};
                Odata.Calibration.Labels        = Labels_oocv;
                Odata.Calibration.Probabilities = Probs_oocv;

                tbl = handles.OOCV(handles.oocvind).data.tbl;
                handles.OOCV(handles.oocvind).data.tbl = ...
                    upsertProbsColumn(tbl, Probs_oocv, Method);

                handles.OOCV(handles.oocvind).data.(P_fld){1} = Odata;
                tLabels_oocv = handles.OOCV(handles.oocvind).data.(P_fld){1}.BinLabels{handles.curclass};
                if handles.selSubGroupOOCV.Value>1
                    tLabels_oocv = tLabels_oocv(SubI);
                    Labels_oocv = Labels_oocv(SubI);
                    Probs_oocv = Probs_oocv(SubI);
                end
                handles.OOCV(handles.oocvind).data.(P_fld){1}.contingency{1} = ALLPARAM(tLabels_oocv, Probs_oocv-0.5);
            end
        else
            % reuse existing
            Probs = handles.BinClass{handles.curclass}.Calibration.Probabilities;
            Title = handles.BinClass{handles.curclass}.Calibration.Title;
            Method = handles.BinClass{handles.curclass}.Calibration.Method;
            if handles.oocvview
                Probs_oocv = handles.OOCV(handles.oocvind).data.(P_fld){1}.Calibration.Probabilities;
            end
        end

    elseif offsetIndex>0

        Title = handles.selAnalysis.String{handles.selAnalysis.Value};
        % Store calibration
        C = struct('Labels',Labels,'Probabilities',DecisionScores,'SubI', SubI, 'Title', Title,'Method', Method);
        handles.BinClass{handles.curclass}.Calibration = C;
        if handles.oocvview
            Odata = handles.OOCV(handles.oocvind).data.(P_fld){1};
            Odata.Calibration.Labels = Labels_oocv;
            Odata.Calibration.Probabilities = DecisionScores_oocv;
            % update OOCV table
            tbl = handles.OOCV(handles.oocvind).data.tbl;
            if ~any(strcmp(tbl.colnames,'Mean_Score_offset_corr'))
                idxcol = size(tbl.array,2)+1;
                tbl.colnames{idxcol} = 'Mean_Score_offset_corr';
            else
                idxcol = find(strcmp(tbl.colnames,'Mean_Score_offset_corr'));
            end
            tbl.array(:,idxcol) = DecisionScores_oocv;
            handles.OOCV(handles.oocvind).data.tbl = tbl;
            handles.OOCV(handles.oocvind).data.(P_fld){1} = Odata;
            tLabels_oocv = handles.OOCV(handles.oocvind).data.(P_fld){1}.BinLabels{handles.curclass};
            if handles.selSubGroupOOCV.Value>1
                tLabels_oocv = tLabels_oocv(SubI);
                Labels_oocv = Labels_oocv(SubI);
                DecisionScores_oocv = DecisionScores_oocv(SubI);
            end
            handles.OOCV(handles.oocvind).data.(P_fld){1}.contingency{1} = ALLPARAM(tLabels_oocv, DecisionScores_oocv);
        end
    
    else
        Probs = DecisionScores;
        if handles.oocvview
            Probs_oocv = DecisionScores_oocv; 
            tLabels_oocv = handles.OOCV(handles.oocvind).data.(P_fld){1}.BinLabels{handles.curclass};
            if handles.selSubGroupOOCV.Value>1
                tLabels_oocv = tLabels_oocv(SubI);
                Labels_oocv = Labels_oocv(SubI);
                DecisionScores_oocv = DecisionScores_oocv(SubI);
            end
            handles.OOCV(handles.oocvind).data.(P_fld){1}.contingency{1} = ALLPARAM(tLabels_oocv, DecisionScores_oocv);
        end
    end
else
    % probflag case unchanged
    Title = handles.selAnalysis.String{handles.selAnalysis.Value};
    Method = '';
    Probs = DecisionScores;
    if handles.oocvview, Probs_oocv = DecisionScores_oocv; end
    if max(Probs)<0.5, Probs = Probs + 0.5; end
    if handles.oocvview && max(Probs_oocv)<0.5, Probs_oocv = Probs_oocv + 0.5; end
end

function okAndResume(fig,ddl,cb,od)
    d = struct();
    d.selectedMethod = ddl.Value;
    d.recompute = cb.Value;
    if ~isempty(od)
        d.offsetIndex = od.Value;
    end
    fig.UserData = d;
    uiresume(fig);

% --------------------------------------------------------------------
function ToolsItem_Callback(hObject, eventdata, handles)
% hObject    handle to ToolsItem (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% --------------------------------------------------------------------
function StartFeatureRelevanceGUI_Callback(hObject, eventdata, handles)
% hObject    handle to StartFeatureRelevanceGUI (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)
FeatureRelevanceGUI()

% --- Executes on selection change in selComponent.
function selComponent_Callback(hObject, eventdata, handles)
% hObject    handle to selComponent (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)

% Hints: contents = cellstr(get(hObject,'String')) returns selComponent contents as cell array
%        contents{get(hObject,'Value')} returns selected item from selComponent
if hObject.Value == 1
    display_modality_component_stats(handles.visdata{handles.curmodal, handles.curlabel}, handles.curclass, handles.curmodal)
else
    display_visual(handles);
end

% --- Executes during object creation, after setting all properties.
function selComponent_CreateFcn(hObject, eventdata, handles)
% hObject    handle to selComponent (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    empty - handles not created until after all CreateFcns called

% Hint: popupmenu controls usually have a white background on Windows.
%       See ISPC and COMPUTER.
if ispc && isequal(get(hObject,'BackgroundColor'), get(0,'defaultUicontrolBackgroundColor'))
    set(hObject,'BackgroundColor','white');
end


% --- Creates and returns a handle to the GUI figure. 
function h1 = NM_Results_Viewer_LayoutFcn(policy)
% policy - create a new figure or use a singleton. 'new' or 'reuse'.

persistent hsingleton;
if strcmpi(policy, 'reuse') & ishandle(hsingleton)
    h1 = hsingleton;
    return;
end
load NM_Results_Viewer.mat

appdata = [];
appdata.GUIDEOptions = struct(...
    'active_h', [], ...
    'taginfo', struct(...
    'figure', 2, ...
    'axes', 40, ...
    'pushbutton', 37, ...
    'popupmenu', 38, ...
    'uitable', 2, ...
    'text', 7, ...
    'edit', 13, ...
    'uipanel', 15, ...
    'togglebutton', 8, ...
    'listbox', 2), ...
    'override', [], ...
    'release', 13, ...
    'resize', 'simple', ...
    'accessibility', 'on', ...
    'mfile', [], ...
    'callbacks', [], ...
    'singleton', [], ...
    'syscolorfig', [], ...
    'blocking', 0, ...
    'lastSavedFile', 'C:\Users\nikol\OneDrive - LMU Klinikum AöR\Software\NeuroMiner_Current\gui\NM_Results_Viewer.m', ...
    'lastFilename', 'C:\Users\nikol\OneDrive - LMU Klinikum AöR\Software\NeuroMiner_Current\gui\nk_PrintResults2.fig');
appdata.lastValidTag = 'figure1';
appdata.GUIDELayoutEditor = mat{1};

clBackgrounds       = [0.941176470588235 0.941176470588235 0.941176470588235];

h1 = figure(...
'PaperUnits',get(0,'defaultfigurePaperUnits'),...
'Units','normalized',...
'Position',[0.0234375 0.01875 0.899739583333333 0.897916666666667],...
'Visible',get(0,'defaultfigureVisible'),...
'Color',get(0,'defaultfigureColor'),...
'CurrentAxesMode','manual',...
'IntegerHandle',get(0,'defaultfigureIntegerHandle'),...
'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
'MenuBar',get(0,'defaultfigureMenuBar'),...
'ToolBar','none',...
'Name','NM Results Manager',...
'NumberTitle','off',...
'Tag','figure1',...
'UserData',[],...
'WindowStyle','normal',...
'WindowStyleMode',get(0,'defaultfigureWindowStyleMode'),...
'Resize',get(0,'defaultfigureResize'),...
'ScreenPixelsPerInchMode','manual',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'pnModelPerf';

h2 = uipanel(...
'Parent',h1,...
'Title','Model parameters',...
'Tag','pnModelPerf',...
'Clipping','off',...
'Position',[0.00694444444444444 0.0164609053497942 0.984953703703704 0.91358024691358],...
'FontSize',12,...
'FontWeight','bold',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'axes17';

% Performance Viewer Axes Object
h3 = axes(...
'Parent',h2,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'Box','on',...
'Position',[0.0608070757324489 0.11965811965812 0.660033167495854 0.81],...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('axes17_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','axes17');

appdata = [];
appdata.Internal_InteractionsArray = mat{2};

h4 = get(h3,'title');

set(h4,...
'Parent',h3,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000565313634 1.00189917127072 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0253222836095764,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{3};

h5 = get(h3,'xlabel');

set(h5,...
'Parent',h3,...
'Units','data',...
'FontUnits','normalized',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.0364392569625846 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0253222836095764,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{4};

h6 = get(h3,'ylabel');

set(h6,...
'Parent',h3,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.0339171982809845 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0253222836095764,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{5};

h7 = get(h3,'zlabel');

set(h7,...
'Parent',h3,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0230202578268877,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'axes35';

% Mean CV1 Performance Axes
h8 = axes(...
'Parent',h2,...
'FontUnits','normalized',...
'Box','on',...
'Position',[0.773908236594804 0.55 0.182974018794914 0.3],...
'FontSize',0.04,...
'Tag','axes35',...
'Title',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{6};

h9 = get(h8,'title');

set(h9,...
'Parent',h8,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500004509254283 1.00387323943662 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0516431924882629,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{7};

h10 = get(h8,'xlabel');

set(h10,...
'Parent',h8,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837157 -0.077643641381534 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0516431924882629,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{8};

h11 = get(h8,'ylabel');

set(h11,...
'Parent',h8,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.103829840668777 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0516431924882629,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{9};

h12 = get(h8,'zlabel');

set(h12,...
'Parent',h8,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0584795321637427,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'axes37';

% Mean CV2 Performance Axes
h13 = axes(...
'Parent',h2,...
'FontUnits','normalized',...
'Box','on',...
'Position',[0.773908236594804 0.121980676328502 0.182974018794914 0.3],...
'FontSize',0.04,...
'Tag','axes37',...
'Title',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{10};

h14 = get(h13,'title');

set(h14,...
'Parent',h13,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500004509254284 1.00387323943662 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0516431924882629,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{11};

h15 = get(h13,'xlabel');

set(h15,...
'Parent',h13,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.0742751663313824 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0516431924882629,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{12};

h16 = get(h13,'ylabel');

set(h16,...
'Parent',h13,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.122261976894491 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0516431924882629,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{13};

h17 = get(h13,'zlabel');

set(h17,...
'Parent',h13,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0469483568075117,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'cmdExportModelPerfVec';

h18 = uicontrol(...
'Parent',h2,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.8 0.913 0.0127142067440575 0.0301932367149759],...
'BackgroundColor',[0.8 0.8 0.901960784313726],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportModelPerfVec_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportModelPerfVec',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'cmdExportModelPerfC2';

h19 = uicontrol(...
'Parent',h2,...
'Units','normalized',...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.967 0.47 0.0127142067440575 0.0301932367149758],...
'BackgroundColor',[0.8 0.8 0.901960784313726],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportModelPerfC2_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportModelPerfC2',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'cmdExportModelPerfC1';

h20 = uicontrol(...
'Parent',h2,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.967 0.913 0.0127142067440575 0.0301932367149759],...
'BackgroundColor',[0.8 0.8 0.901960784313726],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportModelPerfC1_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportModelPerfC1',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'selSubParam';

h21 = uicontrol(...
'Parent',h2,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',{  'Pop-up Menu' },...
'Style','popupmenu',...
'Position',[0.060838747784997 0.945 0.12817483756645 0.04],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selSubParam_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selSubParam_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selSubParam',...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'FileMenu';

h22 = uimenu(...
'Parent',h1,...
'ForegroundColor',get(0,'defaultuimenuForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuimenuForegroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('FileMenu_Callback',hObject,eventdata,guidata(hObject)),...
'Label','File',...
'Tag','FileMenu',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'ExportMenuItem';

h23 = uimenu(...
'Parent',h22,...
'ForegroundColor',get(0,'defaultuimenuForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuimenuForegroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('ExportMenuItem_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Export NM Results ...',...
'Tag','ExportMenuItem',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'ExportPredictionsMenu';

h24 = uimenu(...
'Parent',h23,...
'ForegroundColor',get(0,'defaultuimenuForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuimenuForegroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('ExportPredictionsMenu_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Export Predictions',...
'Tag','ExportPredictionsMenu',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'ExportPerformanceMenu';

h25 = uimenu(...
'Parent',h23,...
'ForegroundColor',get(0,'defaultuimenuForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuimenuForegroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('ExportPerformanceMenu_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Export Performance Metrics',...
'Tag','ExportPerformanceMenu',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'PrintMenuItem';

h26 = uimenu(...
'Parent',h22,...
'ForegroundColor',get(0,'defaultuimenuForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuimenuForegroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('PrintMenuItem_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Print Current View',...
'Tag','PrintMenuItem',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'CloseMenuItem';

h27 = uimenu(...
'Parent',h22,...
'ForegroundColor',get(0,'defaultuimenuForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuimenuForegroundColorMode'),...
'Separator','on',...
'Callback',@(hObject,eventdata)NM_Results_Viewer('CloseMenuItem_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Quit NM Results Viewer',...
'Tag','CloseMenuItem',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'pnVisual';

h28 = uipanel(...
'Parent',h1,...
'FontUnits',get(0,'defaultuipanelFontUnits'),...
'Units',get(0,'defaultuipanelUnits'),...
'ForegroundColor',get(0,'defaultuipanelForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuipanelForegroundColorMode'),...
'HighlightColor',get(0,'defaultuipanelHighlightColor'),...
'HighlightColorMode',get(0,'defaultuipanelHighlightColorMode'),...
'BorderType',get(0,'defaultuipanelBorderType'),...
'Title','Visualization results',...
'BackgroundColor',get(0,'defaultuipanelBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuipanelBackgroundColorMode'),...
'Tag','pnVisual',...
'Clipping','off',...
'Position',[0.00636574074074074 0.0164609053497942 0.984953703703704 0.915637860082305],...
'Layout',[],...
'FontSize',12,...
'FontWeight','bold',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'axes33';

h29 = axes(...
'Parent',h28,...
'FontUnits',get(0,'defaultaxesFontUnits'),...
'Units',get(0,'defaultaxesUnits'),...
'CameraPosition',[0.5 0.5 9.16025403784439],...
'CameraPositionMode',get(0,'defaultaxesCameraPositionMode'),...
'CameraTarget',[0.5 0.5 0.5],...
'CameraTargetMode',get(0,'defaultaxesCameraTargetMode'),...
'CameraViewAngle',6.60861036031192,...
'CameraViewAngleMode',get(0,'defaultaxesCameraViewAngleMode'),...
'PlotBoxAspectRatio',[0.935994930291508 1 0.935994930291508],...
'PlotBoxAspectRatioMode',get(0,'defaultaxesPlotBoxAspectRatioMode'),...
'XTick',[0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1],...
'XTickMode',get(0,'defaultaxesXTickMode'),...
'XTickLabel',{  '0'; '0.1'; '0.2'; '0.3'; '0.4'; '0.5'; '0.6'; '0.7'; '0.8'; '0.9'; '1' },...
'XTickLabelMode',get(0,'defaultaxesXTickLabelMode'),...
'YTick',[0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1],...
'YTickMode',get(0,'defaultaxesYTickMode'),...
'YTickLabel',{  '0'; '0.1'; '0.2'; '0.3'; '0.4'; '0.5'; '0.6'; '0.7'; '0.8'; '0.9'; '1' },...
'YTickLabelMode',get(0,'defaultaxesYTickLabelMode'),...
'Color',get(0,'defaultaxesColor'),...
'CameraMode',get(0,'defaultaxesCameraMode'),...
'DataSpaceMode',get(0,'defaultaxesDataSpaceMode'),...
'ColorSpaceMode',get(0,'defaultaxesColorSpaceMode'),...
'DecorationContainerMode',get(0,'defaultaxesDecorationContainerMode'),...
'ChildContainerMode',get(0,'defaultaxesChildContainerMode'),...
'TitleMode',get(0,'defaultaxesTitleMode'),...
'SubtitleMode',get(0,'defaultaxesSubtitleMode'),...
'MinorGridAlpha',get(0,'defaultaxesMinorGridAlpha'),...
'MinorGridAlphaMode',get(0,'defaultaxesMinorGridAlphaMode'),...
'BoxFrameMode',get(0,'defaultaxesBoxFrameMode'),...
'XRulerMode',get(0,'defaultaxesXRulerMode'),...
'XBaselineMode',get(0,'defaultaxesXBaselineMode'),...
'YRulerMode',get(0,'defaultaxesYRulerMode'),...
'YBaselineMode',get(0,'defaultaxesYBaselineMode'),...
'ZRulerMode',get(0,'defaultaxesZRulerMode'),...
'ZBaselineMode',get(0,'defaultaxesZBaselineMode'),...
'AmbientLightSourceMode',get(0,'defaultaxesAmbientLightSourceMode'),...
'Box','on',...
'Position',[0.278204370939161 0.0888607138108534 0.434731246308328 0.817660550458716],...
'InnerPosition',[0.278204370939161 0.0888607138108534 0.434731246308328 0.817660550458716],...
'ActivePositionProperty','position',...
'ActivePositionPropertyMode',get(0,'defaultaxesActivePositionPropertyMode'),...
'PositionConstraint','innerposition',...
'PositionConstraintMode',get(0,'defaultaxesPositionConstraintMode'),...
'LooseInset',[0.425512720484028 0.317433352095201 0.310951603430636 0.216431830974],...
'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
'ColormapMode',get(0,'defaultaxesColormapMode'),...
'Alphamap',[0 0.0159 0.0317 0.0476 0.0635 0.0794 0.0952 0.1111 0.127 0.1429 0.1587 0.1746 0.1905 0.2063 0.2222 0.2381 0.254 0.2698 0.2857 0.3016 0.3175 0.3333 0.3492 0.3651 0.381 0.3968 0.4127 0.4286 0.4444 0.4603 0.4762 0.4921 0.5079 0.5238 0.5397 0.5556 0.5714 0.5873 0.6032 0.619 0.6349 0.6508 0.6667 0.6825 0.6984 0.7143 0.7302 0.746 0.7619 0.7778 0.7937 0.8095 0.8254 0.8413 0.8571 0.873 0.8889 0.9048 0.9206 0.9365 0.9524 0.9683 0.9841 1],...
'AlphamapMode',get(0,'defaultaxesAlphamapMode'),...
'ColorOrder',get(0,'defaultaxesColorOrder'),...
'SortMethod','childorder',...
'Tag','axes33',...
'Title',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{14};

h30 = get(h29,'title');

set(h30,...
'Parent',h29,...
'Units','data',...
'FontUnits','points',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500001087653613 1.00158428390368 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',10,...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{15};

h31 = get(h29,'xlabel');

set(h31,...
'Parent',h29,...
'Units','data',...
'FontUnits','points',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.0340092942641161 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',10,...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{16};

h32 = get(h29,'ylabel');

set(h32,...
'Parent',h29,...
'Units','data',...
'FontUnits','points',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.0476190484799589 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',10,...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{17};

h33 = get(h29,'zlabel');

set(h33,...
'Parent',h29,...
'Units','data',...
'FontUnits','points',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',10,...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'pn3DView';

h34 = uipanel(...
'Parent',h28,...
'HighlightColor',[0.149019607843137 0.149019607843137 0.149019607843137],...
'BorderType','none',...
'Title',blanks(0),...
'Visible','off',...
'Tag','pn3DView',...
'Clipping','off',...
'Position',[0.00766057748968768 0.0559006211180124 0.98733058338244 0.852484472049689],...
'Layout',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'popupSortFeat';

h35 = uicontrol( ...
    'Parent', h28, ...
    'Units', 'normalized', ...
    'FontUnits', get(0,'defaultuicontrolFontUnits'), ...
    'Style', 'popupmenu', ...
    'String', {'Original order','Sort ascending','Sort descending','Sort absolute ascending', 'Sort absolute descending', 'Plot absolute and sort absolute ascending', 'Plot absolute and sort absolute descending'}, ...
    'Value', 1, ... % default: "Original order"
    'Position', [0.8 0.908 0.06 0.08], ...
    'FontSize', 10, ...
    'Callback', @(hObject,eventdata) NM_Results_Viewer('popupSortFeat_Callback', hObject, eventdata, guidata(hObject)), ...
    'TooltipString', 'Choose feature sort order', ...
    'CreateFcn', {@local_CreateFcn, blanks(0), appdata}, ...
    'Tag', 'popupSortFeat');

% ---- defaults in figure appdata (no handles needed) ----
if ~isappdata(h1,'posBarColor'), setappdata(h1,'posBarColor',[0.85 0.15 0.15]); end % red-ish
if ~isappdata(h1,'negBarColor'), setappdata(h1,'negBarColor',[0.15 0.35 0.85]); end % blue-ish

% ---- place two small square buttons to the right of the popup ----
popPos = get(h35,'Position');     % normalized [x y w h]
gap    = 0.006;                   % small gap
btnSz  = 0.02;               % square = popup's height

% clamp horizontally if close to the right edge
baseX  = min(popPos(1) + popPos(3) + gap, 1 - (2*btnSz + 1.5*gap));
posPos = [baseX,                 popPos(2), btnSz, btnSz];  % POS button
posNeg = [baseX + btnSz + gap/2, popPos(2), btnSz, btnSz];  % NEG button

btnPos = uicontrol('Parent', h28, 'Style','pushbutton', 'Units','normalized', ...
    'Position', posPos, 'Tag','btnPosColor', ...
    'BackgroundColor', getappdata(h1,'posBarColor'), ...
    'TooltipString','Pick color for POSITIVE bars', ...
    'Callback', @(h,e) NM_Results_Viewer('btnPosColor_Callback', h, e, guidata(h)));

btnNeg = uicontrol('Parent', h28, 'Style','pushbutton', 'Units','normalized', ...
    'Position', posNeg, 'Tag','btnNegColor', ...
    'BackgroundColor', getappdata(h1,'negBarColor'), ...
    'TooltipString','Pick color for NEGATIVE bars', ...
    'Callback', @(h,e) NM_Results_Viewer('btnNegColor_Callback', h, e, guidata(h)));

% (optional) keep handles in appdata too
setappdata(h1,'btnPosColor',btnPos);
setappdata(h1,'btnNegColor',btnNeg);

appdata = [];
appdata.lastValidTag = 'cmdExportFeats';

h36 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','E',...
'Position',[0.865 0.96 0.0129793510324484 0.0305],...
'BackgroundColor',[0.929411764705882 0.690196078431373 0.129411764705882],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportFeats_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Export feature data',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Export feature data',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'Tag','cmdExportFeats',...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'cmdExportFeatFig';

h37 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.88 0.96 0.0118133490844654 0.0305],...
'BackgroundColor',[0.8 0.8 0.901960784313726],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportFeatFig_Callback',hObject,eventdata,guidata(hObject)),...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportFeatFig',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'txtPager';

h38 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',blanks(0),...
'Style','edit',...
'Position',[0.68 0.96 0.05 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtPager_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','enter vector of features to be displayed',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','enter vector of features to be displayed',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtPager_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','txtPager');

appdata = [];
appdata.lastValidTag = 'txtAlterFeats';

h39 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',blanks(0),...
'Style','edit',...
'Position',[0.74 0.96 0.05 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtAlterFeats_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','enter cell array of alternative feature descriptors',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','enter cell array of alternative feature descriptors',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtAlterFeats_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','txtAlterFeats',...
'KeyPressFcn',blanks(0));

appdata = [];
appdata.lastValidTag = 'txtThrVisMeas2';

h40 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',blanks(0),...
'Style','edit',...
'Position',[0.68 0.918 0.05 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtThrVisMeas2_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','enter vector of features to be displayed',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','enter vector of features to be displayed',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtThrVisMeas2_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','txtThrVisMeas2',...
'KeyPressFcn',blanks(0));

appdata = [];
appdata.lastValidTag = 'tglVisMeas2';

h41 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Filter features',...
'Style','togglebutton',...
'Position',[0.8 0.918 0.06 0.0305],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('tglVisMeas2_Callback',hObject,eventdata,guidata(hObject)),...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Push to sort features in descending order',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','tglVisMeas2',...
'KeyPressFcn',blanks(0));

appdata = [];
appdata.lastValidTag = 'selModality';

h42 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Select Modality',...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.03 0.96 0.2 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selModality_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Select Modality',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selModality_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selModality',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'selVisMeas';

h43 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Select Visualisation Measure',...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.235 0.96 0.2 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selVisMeas_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Select Visualisation Measure',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selVisMeas_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selVisMeas',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'selVisMeas2';

h44 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Select Visualization Measure',...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.44 0.918 0.23 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selVisMeas2_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Select Visualization Measure',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selVisMeas2_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selVisMeas2',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'selPager';

h45 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Select Page of Features',...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.61 0.96 0.06 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selPager_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Select Page of Features',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selPager_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selPager',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'spiderPlotButton';

h46 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','ROI mapping',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.9 0.96 0.05 0.0305],...
'BackgroundColor',[0 0.450980392156863 0.741176470588235],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('spiderPlotButton_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'ForegroundColor', get(0,'defaultuicontrolForegroundColor'),...
'ButtonDownFcn',@(hObject,eventdata)NM_Results_Viewer('spiderPlotButton_ButtonDownFcn',hObject,eventdata,guidata(hObject)),...
'Tag','spiderPlotButton',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'selComponent';

h47 = uicontrol(...
'Parent',h28,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Select Component ',...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.44 0.96 0.16 0.0305],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selComponent_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Select Component',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selComponent_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','selComponent',...
'KeyPressFcn',blanks(0),...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'pnBinary';

h48 = uipanel(...
'Parent',h1,...
'FontUnits',get(0,'defaultuipanelFontUnits'),...
'Units',get(0,'defaultuipanelUnits'),...
'Tag','pnBinary',...
'Clipping','off',...
'Position',[0.00694444444444444 0.0133744855967078 0.984953703703704 0.923868312757202],...
'FontSize',12,...
'FontWeight','bold',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'axes1';

h49 = axes(...
'Parent',h48,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'XTick',[0 0.2 0.4 0.6 0.8 1],...
'XTickLabelRotation',90,...
'XTickLabelRotationMode',get(0,'defaultaxesXTickLabelRotationMode'),...
'XTickLabel',{  '0  '; '0.2'; '0.4'; '0.6'; '0.8'; '1  ' },...
'YTick',[0 0.2 0.4 0.6 0.8 1],...
'YTickLabel',{  '0  '; '0.2'; '0.4'; '0.6'; '0.8'; '1  ' },...
'ZTick',[0 0.5 1],...
'ZTickLabel',blanks(0),...
'BoxFrame',[],...
'Position',[0.057919621749409 0.389461626575029 0.358156028368794 0.471935853379152],...
'InnerPosition',[0.057919621749409 0.389461626575029 0.358156028368794 0.471935853379152],...
'FontSize',0.2,...
'SortMethod','childorder',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('axes1_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','axes1',...
'UserData',[],...
'Title',[]);

appdata = [];
appdata.Internal_InteractionsArray = mat{18};

h50 = get(h49,'title');

set(h50,...
'Parent',h49,...
'Units','data',...
'FontUnits','normalized',...
'Position',[0.500000819468549 1.0165 0.5],...
'Interpreter','tex',...
'FontSize',0.22,...
'FontSizeMode','auto',...
'Visible','on',...
'Serializable','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata});

appdata = [];
appdata.Internal_InteractionsArray = mat{19};

h51 = get(h49,'xlabel');

set(h51,...
'Parent',h49,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.328912590802266 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.22,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{20};

h52 = get(h49,'ylabel');

set(h52,...
'Parent',h49,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.336019911342423 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.22,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{21};

h53 = get(h49,'zlabel');

set(h53,...
'Parent',h49,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0490196078431373,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'axes38';

h54 = axes(...
'Parent',h48,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'CameraPosition',[0.5 0.5 9.16025403784439],...
'CameraPositionMode','manual',...
'CameraTarget',[0.5 0.5 0.5],...
'CameraUpVector',get(0,'defaultaxesCameraUpVector'),...
'CameraViewAngle',get(0,'defaultaxesCameraViewAngle'),...
'Projection',get(0,'defaultaxesProjection'),...
'LabelFontSizeMultiplier',get(0,'defaultaxesLabelFontSizeMultiplier'),...
'AmbientLightColor',get(0,'defaultaxesAmbientLightColor'),...
'WarpToFill','off',...
'WarpToFillMode',get(0,'defaultaxesWarpToFillMode'),...
'PlotBoxAspectRatio',get(0,'defaultaxesPlotBoxAspectRatio'),...
'FontName',get(0,'defaultaxesFontName'),...
'FontAngle',get(0,'defaultaxesFontAngle'),...
'FontWeight',get(0,'defaultaxesFontWeight'),...
'FontSmoothing',get(0,'defaultaxesFontSmoothing'),...
'TickLabelInterpreter',get(0,'defaultaxesTickLabelInterpreter'),...
'XLim',get(0,'defaultaxesXLim'),...
'YLim',get(0,'defaultaxesYLim'),...
'ZLim',get(0,'defaultaxesZLim'),...
'XDir',get(0,'defaultaxesXDir'),...
'YDir',get(0,'defaultaxesYDir'),...
'ZDir',get(0,'defaultaxesZDir'),...
'CLim',get(0,'defaultaxesCLim'),...
'ALim',get(0,'defaultaxesALim'),...
'Layer',get(0,'defaultaxesLayer'),...
'TickLength',get(0,'defaultaxesTickLength'),...
'GridLineStyle',get(0,'defaultaxesGridLineStyle'),...
'MinorGridLineStyle',get(0,'defaultaxesMinorGridLineStyle'),...
'XAxisLocation',get(0,'defaultaxesXAxisLocation'),...
'XTick',[0 0.2 0.4 0.6 0.8 1],...
'XTickLabelRotation',get(0,'defaultaxesXTickLabelRotation'),...
'XScale',get(0,'defaultaxesXScale'),...
'XTickLabel',{  '0  '; '0.2'; '0.4'; '0.6'; '0.8'; '1  ' },...
'XMinorTick',get(0,'defaultaxesXMinorTick'),...
'YAxisLocation',get(0,'defaultaxesYAxisLocation'),...
'YTick',[0 0.2 0.4 0.6 0.8 1],...
'YTickLabelRotation',get(0,'defaultaxesYTickLabelRotation'),...
'YScale',get(0,'defaultaxesYScale'),...
'YTickLabel',{  '0  '; '0.2'; '0.4'; '0.6'; '0.8'; '1  ' },...
'YMinorTick',get(0,'defaultaxesYMinorTick'),...
'ZTick',[0 0.5 1],...
'ZTickLabelRotation',get(0,'defaultaxesZTickLabelRotation'),...
'ZScale',get(0,'defaultaxesZScale'),...
'ZTickLabel',blanks(0),...
'ZMinorTick',get(0,'defaultaxesZMinorTick'),...
'BoxStyle',get(0,'defaultaxesBoxStyle'),...
'LineWidth',get(0,'defaultaxesLineWidth'),...
'Color',get(0,'defaultaxesColor'),...
'ClippingStyle',get(0,'defaultaxesClippingStyle'),...
'CameraMode',get(0,'defaultaxesCameraMode'),...
'DataSpaceMode',get(0,'defaultaxesDataSpaceMode'),...
'ColorSpaceMode',get(0,'defaultaxesColorSpaceMode'),...
'DecorationContainerMode',get(0,'defaultaxesDecorationContainerMode'),...
'ChildContainerMode',get(0,'defaultaxesChildContainerMode'),...
'TitleMode',get(0,'defaultaxesTitleMode'),...
'SubtitleMode',get(0,'defaultaxesSubtitleMode'),...
'MinorGridAlpha',get(0,'defaultaxesMinorGridAlpha'),...
'MinorGridAlphaMode',get(0,'defaultaxesMinorGridAlphaMode'),...
'BoxFrame',[],...
'BoxFrameMode',get(0,'defaultaxesBoxFrameMode'),...
'XAxisMode','manual',...
'XBaselineMode',get(0,'defaultaxesXBaselineMode'),...
'YRulerMode',get(0,'defaultaxesYRulerMode'),...
'YBaselineMode',get(0,'defaultaxesYBaselineMode'),...
'ZAxisMode','manual',...
'ZBaselineMode',get(0,'defaultaxesZBaselineMode'),...
'AmbientLightSourceMode',get(0,'defaultaxesAmbientLightSourceMode'),...
'Box',get(0,'defaultaxesBox'),...
'TickDir',get(0,'defaultaxesTickDir'),...
'XGrid',get(0,'defaultaxesXGrid'),...
'XMinorGrid',get(0,'defaultaxesXMinorGrid'),...
'YGrid',get(0,'defaultaxesYGrid'),...
'YMinorGrid',get(0,'defaultaxesYMinorGrid'),...
'ZGrid',get(0,'defaultaxesZGrid'),...
'ZMinorGrid',get(0,'defaultaxesZMinorGrid'),...
'Position',[0.057919621749409 0.0698739977090493 0.361702127659574 0.254295532646048],...
'InnerPosition',[0.057919621749409 0.0698739977090493 0.361702127659574 0.254295532646048],...
'InnerPositionMode',get(0,'defaultaxesInnerPositionMode'),...
'ActivePositionProperty','position',...
'PositionConstraint','innerposition',...
'PositionConstraintMode',get(0,'defaultaxesPositionConstraintMode'),...
'LooseInset',[0.351914267202212 0.415544452310806 0.257168118340078 0.283325762939186],...
'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
'ColormapMode',get(0,'defaultaxesColormapMode'),...
'Alphamap',[0 0.0159 0.0317 0.0476 0.0635 0.0794 0.0952 0.1111 0.127 0.1429 0.1587 0.1746 0.1905 0.2063 0.2222 0.2381 0.254 0.2698 0.2857 0.3016 0.3175 0.3333 0.3492 0.3651 0.381 0.3968 0.4127 0.4286 0.4444 0.4603 0.4762 0.4921 0.5079 0.5238 0.5397 0.5556 0.5714 0.5873 0.6032 0.619 0.6349 0.6508 0.6667 0.6825 0.6984 0.7143 0.7302 0.746 0.7619 0.7778 0.7937 0.8095 0.8254 0.8413 0.8571 0.873 0.8889 0.9048 0.9206 0.9365 0.9524 0.9683 0.9841 1],...
'AlphamapMode',get(0,'defaultaxesAlphamapMode'),...
'ColorOrder',get(0,'defaultaxesColorOrder'),...
'ColorOrderIndex',get(0,'defaultaxesColorOrderIndex'),...
'LineStyleOrder',get(0,'defaultaxesLineStyleOrder'),...
'LineStyleOrderIndex',get(0,'defaultaxesLineStyleOrderIndex'),...
'FontSize',0.18,...
'TitleFontWeight',get(0,'defaultaxesTitleFontWeight'),...
'TitleFontSizeMultiplier',get(0,'defaultaxesTitleFontSizeMultiplier'),...
'SortMethod','childorder',...
'Clipping',get(0,'defaultaxesClipping'),...
'NextPlot',get(0,'defaultaxesNextPlot'),...
'ChildrenMode','manual',...
'Visible','off',...
'HandleVisibility',get(0,'defaultaxesHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','axes38',...
'UserData',[],...
'HitTest',get(0,'defaultaxesHitTest'),...
'PickableParts',get(0,'defaultaxesPickableParts'),...
'Title',[]);

appdata = [];
appdata.Internal_InteractionsArray = mat{22};

h55 = get(h54,'title');

set(h55,...
'Parent',h54,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500001533432762 1.01485 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.198,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{23};

h56 = get(h54,'xlabel');

set(h56,...
'Parent',h54,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.255801981456996 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.198,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{24};

h57 = get(h54,'ylabel');

set(h57,...
'Parent',h54,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.320488438773076 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.198,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{25};

h58 = get(h54,'zlabel');

set(h58,...
'Parent',h54,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.090702947845805,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'pnRocCmds';

h59 = uipanel(...
'Parent',h48,...
'FontUnits',get(0,'defaultuipanelFontUnits'),...
'Units',get(0,'defaultuipanelUnits'),...
'ForegroundColor',get(0,'defaultuipanelForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuipanelForegroundColorMode'),...
'HighlightColor',get(0,'defaultuipanelHighlightColor'),...
'HighlightColorMode',get(0,'defaultuipanelHighlightColorMode'),...
'Title','ROC analysis',...
'BackgroundColor', clBackgrounds,...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'Tag','pnRocCmds',...
'Position',[0.446808510638298 0.445 0.266548463356974 0.54]);

appdata = [];
appdata.lastValidTag = 'axes2';

h60 = axes(...
'Parent',h59,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'CameraPosition',[0.5 0.5 9.16025403784439],...
'CameraPositionMode',get(0,'defaultaxesCameraPositionMode'),...
'CameraTarget',[0.5 0.5 0.5],...
'CameraTargetMode',get(0,'defaultaxesCameraTargetMode'),...
'CameraViewAngle',6.60861036031192,...
'CameraViewAngleMode',get(0,'defaultaxesCameraViewAngleMode'),...
'PlotBoxAspectRatio',[0.860810810810811 1 0.860810810810811],...
'PlotBoxAspectRatioMode',get(0,'defaultaxesPlotBoxAspectRatioMode'),...
'XTick',[0 0.5 1],...
'XTickMode',get(0,'defaultaxesXTickMode'),...
'XTickLabel',{  '0'; '0.5'; '1' },...
'XTickLabelMode',get(0,'defaultaxesXTickLabelMode'),...
'YTick',[0 0.2 0.4 0.6 0.8 1],...
'YTickMode',get(0,'defaultaxesYTickMode'),...
'YTickLabel',{  '0'; '0.2'; '0.4'; '0.6'; '0.8'; '1' },...
'YTickLabelMode',get(0,'defaultaxesYTickLabelMode'),...
'Color',get(0,'defaultaxesColor'),...
'CameraMode',get(0,'defaultaxesCameraMode'),...
'DataSpaceMode',get(0,'defaultaxesDataSpaceMode'),...
'ColorSpaceMode',get(0,'defaultaxesColorSpaceMode'),...
'DecorationContainerMode',get(0,'defaultaxesDecorationContainerMode'),...
'ChildContainerMode',get(0,'defaultaxesChildContainerMode'),...
'TitleMode',get(0,'defaultaxesTitleMode'),...
'SubtitleMode',get(0,'defaultaxesSubtitleMode'),...
'MinorGridAlpha',get(0,'defaultaxesMinorGridAlpha'),...
'MinorGridAlphaMode',get(0,'defaultaxesMinorGridAlphaMode'),...
'BoxFrameMode',get(0,'defaultaxesBoxFrameMode'),...
'XRulerMode',get(0,'defaultaxesXRulerMode'),...
'XBaselineMode',get(0,'defaultaxesXBaselineMode'),...
'YRulerMode',get(0,'defaultaxesYRulerMode'),...
'YBaselineMode',get(0,'defaultaxesYBaselineMode'),...
'ZRulerMode',get(0,'defaultaxesZRulerMode'),...
'ZBaselineMode',get(0,'defaultaxesZBaselineMode'),...
'AmbientLightSourceMode',get(0,'defaultaxesAmbientLightSourceMode'),...
'Box','on',...
'Position',[0.181208053691275 0.143167028199566 0.706935123042506 0.704989154013015],...
'InnerPosition',[0.181208053691275 0.143167028199566 0.706935123042506 0.704989154013015],...
'InnerPositionMode',get(0,'defaultaxesInnerPositionMode'),...
'ActivePositionProperty','position',...
'ActivePositionPropertyMode',get(0,'defaultaxesActivePositionPropertyMode'),...
'PositionConstraint','innerposition',...
'PositionConstraintMode',get(0,'defaultaxesPositionConstraintMode'),...
'LooseInset',[0.457231300797033 0.311838474094586 0.334130565967063 0.212617141428127],...
'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
'ColormapMode',get(0,'defaultaxesColormapMode'),...
'Alphamap',[0 0.0159 0.0317 0.0476 0.0635 0.0794 0.0952 0.1111 0.127 0.1429 0.1587 0.1746 0.1905 0.2063 0.2222 0.2381 0.254 0.2698 0.2857 0.3016 0.3175 0.3333 0.3492 0.3651 0.381 0.3968 0.4127 0.4286 0.4444 0.4603 0.4762 0.4921 0.5079 0.5238 0.5397 0.5556 0.5714 0.5873 0.6032 0.619 0.6349 0.6508 0.6667 0.6825 0.6984 0.7143 0.7302 0.746 0.7619 0.7778 0.7937 0.8095 0.8254 0.8413 0.8571 0.873 0.8889 0.9048 0.9206 0.9365 0.9524 0.9683 0.9841 1],...
'AlphamapMode',get(0,'defaultaxesAlphamapMode'),...
'ColorOrder',get(0,'defaultaxesColorOrder'),...
'FontSize',0.075,...
'SortMethod','childorder',...
'Tag','axes2',...
'Title',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{26};

h61 = get(h60,'title');

set(h61,...
'Parent',h60,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000722367123 1.0061875 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0825,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{27};

h62 = get(h60,'xlabel');

set(h62,...
'Parent',h60,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.112297296867714 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0825,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{28};

h63 = get(h60,'ylabel');

set(h63,...
'Parent',h60,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.166038721185402 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0825,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{29};

h64 = get(h60,'zlabel');

set(h64,...
'Parent',h60,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.066006600660066,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'txtBinarize';

h65 = uicontrol(...
'Parent',h59,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Binarization Threshold',...
'Style','edit',...
'Position',[0.179478831972144 0.8867862763059 0.291653101954734 0.0563727217211575],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtBinarize_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Provide threshold to binarize continuous targets',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Provide threshold to binarize continuous targets',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtBinarize_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','txtBinarize',...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'cmdExportAxes2';

h66 = uicontrol(...
'Parent',h59,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.915525114155251 0.79175704989154 0.047945205479452 0.0563991323210412],...
'BackgroundColor',[0.8 0.8 0.902],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportAxes2_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportAxes2',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'selOneVsAll_Info';

h67 = uicontrol(...
'Parent',h59,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',{  'Pop-up Menu' },...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.4980537587227 0.87377718667794 0.392609944939065 0.0693818113491169],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selOneVsAll_Info_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selOneVsAll_Info_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selOneVsAll_Info',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'pnPieCmds';

h68 = uipanel(...
'Parent',h48,...
'FontUnits',get(0,'defaultuipanelFontUnits'),...
'Units',get(0,'defaultuipanelUnits'),...
'ForegroundColor',get(0,'defaultuipanelForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuipanelForegroundColorMode'),...
'HighlightColor',get(0,'defaultuipanelHighlightColor'),...
'HighlightColorMode',get(0,'defaultuipanelHighlightColorMode'),...
'Title','Prognostic Gains',...
'BackgroundColor', clBackgrounds,...
'Tag','pnPieCmds',...
'Position',[0.446808510638298 0.015 0.266548463356974 0.415],...
'Layout',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'axes3';

h69 = axes(...
'Parent',h68,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'XTick',[0 0.5 1],...
'XTickMode',get(0,'defaultaxesXTickMode'),...
'XTickLabel',{  '0'; '0.5'; '1' },...
'XTickLabelMode',get(0,'defaultaxesXTickLabelMode'),...
'YTick',[0 0.5 1],...
'YTickMode',get(0,'defaultaxesYTickMode'),...
'YTickLabel',{  '0'; '0.5'; '1' },...
'YTickLabelMode',get(0,'defaultaxesYTickLabelMode'),...
'Color',get(0,'defaultaxesColor'),...
'BoxFrame',[],...
'Position',[0.0799086757990868 0.237785016286645 0.433789954337899 0.596091205211726],...
'InnerPosition',[0.0799086757990868 0.237785016286645 0.433789954337899 0.596091205211726],...
'FontSize',0.1,...
'SortMethod','childorder',...
'Tag','axes3',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{30};

h70 = get(h69,'title');

set(h70,...
'Parent',h69,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000654888885 1.00825 0.499999999999993],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.11,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{31};

h71 = get(h69,'xlabel');

set(h71,...
'Parent',h69,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.154782611459926 -7.105427357601e-15],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.11,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{32};

h72 = get(h69,'ylabel');

set(h72,...
'Parent',h69,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.229838028669561 0.500000476837158 -7.105427357601e-15],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.11,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{33};

h73 = get(h69,'zlabel');

set(h73,...
'Parent',h69,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.111111111111111,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'axes4';

h74 = axes(...
'Parent',h68,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'CameraPosition',[0.5 0.5 9.16025403784439],...
'CameraPositionMode',get(0,'defaultaxesCameraPositionMode'),...
'CameraTarget',[0.5 0.5 0.5],...
'CameraTargetMode',get(0,'defaultaxesCameraTargetMode'),...
'CameraViewAngle',6.60861036031192,...
'CameraViewAngleMode',get(0,'defaultaxesCameraViewAngleMode'),...
'PlotBoxAspectRatio',[0.85 1 0.85],...
'PlotBoxAspectRatioMode',get(0,'defaultaxesPlotBoxAspectRatioMode'),...
'XTick',[0 0.5 1],...
'XTickMode',get(0,'defaultaxesXTickMode'),...
'XTickLabel',{  '0'; '0.5'; '1' },...
'XTickLabelMode',get(0,'defaultaxesXTickLabelMode'),...
'YTick',[0 0.5 1],...
'YTickMode',get(0,'defaultaxesYTickMode'),...
'YTickLabel',{  '0'; '0.5'; '1' },...
'YTickLabelMode',get(0,'defaultaxesYTickLabelMode'),...
'Color',get(0,'defaultaxesColor'),...
'CameraMode',get(0,'defaultaxesCameraMode'),...
'DataSpaceMode',get(0,'defaultaxesDataSpaceMode'),...
'ColorSpaceMode',get(0,'defaultaxesColorSpaceMode'),...
'DecorationContainerMode',get(0,'defaultaxesDecorationContainerMode'),...
'ChildContainerMode',get(0,'defaultaxesChildContainerMode'),...
'TitleMode',get(0,'defaultaxesTitleMode'),...
'SubtitleMode',get(0,'defaultaxesSubtitleMode'),...
'MinorGridAlpha',get(0,'defaultaxesMinorGridAlpha'),...
'MinorGridAlphaMode',get(0,'defaultaxesMinorGridAlphaMode'),...
'BoxFrame',[],...
'BoxFrameMode',get(0,'defaultaxesBoxFrameMode'),...
'XRulerMode',get(0,'defaultaxesXRulerMode'),...
'XBaselineMode',get(0,'defaultaxesXBaselineMode'),...
'YRulerMode',get(0,'defaultaxesYRulerMode'),...
'YBaselineMode',get(0,'defaultaxesYBaselineMode'),...
'ZRulerMode',get(0,'defaultaxesZRulerMode'),...
'ZBaselineMode',get(0,'defaultaxesZBaselineMode'),...
'AmbientLightSourceMode',get(0,'defaultaxesAmbientLightSourceMode'),...
'Position',[0.513698630136986 0.237785016286645 0.433789954337899 0.596091205211726],...
'InnerPosition',[0.513698630136986 0.237785016286645 0.433789954337899 0.596091205211726],...
'InnerPositionMode',get(0,'defaultaxesInnerPositionMode'),...
'ActivePositionProperty','position',...
'ActivePositionPropertyMode',get(0,'defaultaxesActivePositionPropertyMode'),...
'PositionConstraint','innerposition',...
'PositionConstraintMode',get(0,'defaultaxesPositionConstraintMode'),...
'LooseInset',[0.380820610687022 0.259525423728814 0.278291984732824 0.176949152542373],...
'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
'ColormapMode',get(0,'defaultaxesColormapMode'),...
'Alphamap',[0 0.0159 0.0317 0.0476 0.0635 0.0794 0.0952 0.1111 0.127 0.1429 0.1587 0.1746 0.1905 0.2063 0.2222 0.2381 0.254 0.2698 0.2857 0.3016 0.3175 0.3333 0.3492 0.3651 0.381 0.3968 0.4127 0.4286 0.4444 0.4603 0.4762 0.4921 0.5079 0.5238 0.5397 0.5556 0.5714 0.5873 0.6032 0.619 0.6349 0.6508 0.6667 0.6825 0.6984 0.7143 0.7302 0.746 0.7619 0.7778 0.7937 0.8095 0.8254 0.8413 0.8571 0.873 0.8889 0.9048 0.9206 0.9365 0.9524 0.9683 0.9841 1],...
'AlphamapMode',get(0,'defaultaxesAlphamapMode'),...
'ColorOrder',get(0,'defaultaxesColorOrder'),...
'FontSize',0.1,...
'SortMethod','childorder',...
'Tag','axes4',...
'Title',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{34};

h75 = get(h74,'title');

set(h75,...
'Parent',h74,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500001608563202 1.00825 0.499999999999993],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.11,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{35};

h76 = get(h74,'xlabel');

set(h76,...
'Parent',h74,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837159 -0.154782611459926 -7.105427357601e-15],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.11,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{36};

h77 = get(h74,'ylabel');

set(h77,...
'Parent',h74,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.22983802866956 0.500000476837158 -7.105427357601e-15],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.11,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','on',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{37};

h78 = get(h74,'zlabel');

set(h78,...
'Parent',h74,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.111111111111111,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'txtPretestProb';

h79 = uicontrol(...
'Parent',h68,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Enter P0',...
'Style','edit',...
'Position',[0.364653243847875 0.0892307692307692 0.295302013422819 0.0769230769230769],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtPretestProb_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Type here an alternative pre-test probability if the class distribution is not representative.',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Type here an alternative pre-test probability if the class distribution is not representative.',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtPretestProb_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','txtPretestProb',...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'cmdExportPies';

h80 = uicontrol(...
'Parent',h68,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.488584474885845 0.909383756683326 0.0502283105022831 0.0846905537459285],...
'BackgroundColor',[0.8 0.8 1],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportPies_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportPies',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'pnContigCmds';

h81 = uipanel(...
'Parent',h48,...
'FontUnits',get(0,'defaultuipanelFontUnits'),...
'Units',get(0,'defaultuipanelUnits'),...
'ForegroundColor',get(0,'defaultuipanelForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuipanelForegroundColorMode'),...
'HighlightColor',get(0,'defaultuipanelHighlightColor'),...
'HighlightColorMode',get(0,'defaultuipanelHighlightColorMode'),...
'Title','Performance Metrics',...
'BackgroundColor',clBackgrounds,...
'Tag','pnContigCmds',...
'Position',[0.720449172576832 0.015 0.267139479905437 0.97],...
'Layout',[],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'axes20';

h82 = axes(...
'Parent',h81,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'XTick',[0 0.5 1],...
'XTickMode',get(0,'defaultaxesXTickMode'),...
'XTickLabel',{  '0'; '0.5'; '1' },...
'XTickLabelMode',get(0,'defaultaxesXTickLabelMode'),...
'YTick',[0 0.2 0.4 0.6 0.8 1],...
'YTickMode',get(0,'defaultaxesYTickMode'),...
'YTickLabel',{  '0'; '0.2'; '0.4'; '0.6'; '0.8'; '1' },...
'YTickLabelMode',get(0,'defaultaxesYTickLabelMode'),...
'LineWidth',1,...
'Position',[0.245535714285714 0.0643623361144219 0.629464285714286 0.3253873659118],...
'InnerPosition',[0.245535714285714 0.0643623361144219 0.629464285714286 0.3253873659118],...
'SortMethod','childorder',...
'Visible','off',...
'Tag','axes20',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{38};

h83 = get(h82,'title');

set(h83,...
'Parent',h82,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000849576064 1.00541871921182 0.5],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0722495894909688,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{39};

h84 = get(h82,'xlabel');

set(h84,...
'Parent',h82,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.104341503054566 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0722495894909688,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{40};

h85 = get(h82,'ylabel');

set(h85,...
'Parent',h82,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.143894981308493 0.500000476837158 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0722495894909688,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.Internal_InteractionsArray = mat{41};

h86 = get(h82,'zlabel');

set(h86,...
'Parent',h82,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'String',blanks(0),...
'Interpreter','tex',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontSize',0.0656814449917898,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontWeight','normal',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'LineStyle','-',...
'LineWidth',0.5,...
'BackgroundColor','none',...
'Margin',2,...
'Clipping','off',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'DisplayName',blanks(0),...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'YLimInclude','off',...
'ZLimInclude','off',...
'CLimInclude','on',...
'ALimInclude','on',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'Serializable','on',...
'HandleVisibility','off',...
'HelpTopicKey',blanks(0),...
'ButtonDownFcn',blanks(0),...
'BusyAction','queue',...
'Interruptible','on',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag',blanks(0),...
'HitTest','on');

appdata = [];
appdata.lastValidTag = 'axes5';

h87 = axes(...
'Parent',h81,...
'FontUnits','normalized',...
'Units',get(0,'defaultaxesUnits'),...
'View',get(0,'defaultaxesView'),...
'CameraPosition',[0.5 0.5 9.16025403784439],...
'CameraPositionMode',get(0,'defaultaxesCameraPositionMode'),...
'CameraTarget',[0.5 0.5 0.5],...
'CameraTargetMode',get(0,'defaultaxesCameraTargetMode'),...
'CameraViewAngle',6.60861036031192,...
'CameraViewAngleMode',get(0,'defaultaxesCameraViewAngleMode'),...
'Projection',get(0,'defaultaxesProjection'),...
'LabelFontSizeMultiplier',get(0,'defaultaxesLabelFontSizeMultiplier'),...
'AmbientLightColor',get(0,'defaultaxesAmbientLightColor'),...
'PlotBoxAspectRatio',[0.84733893557423 1 0.84733893557423],...
'PlotBoxAspectRatioMode',get(0,'defaultaxesPlotBoxAspectRatioMode'),...
'FontName',get(0,'defaultaxesFontName'),...
'FontAngle',get(0,'defaultaxesFontAngle'),...
'FontWeight',get(0,'defaultaxesFontWeight'),...
'FontSmoothing',get(0,'defaultaxesFontSmoothing'),...
'TickLabelInterpreter',get(0,'defaultaxesTickLabelInterpreter'),...
'XDir',get(0,'defaultaxesXDir'),...
'YDir',get(0,'defaultaxesYDir'),...
'ZDir',get(0,'defaultaxesZDir'),...
'Layer',get(0,'defaultaxesLayer'),...
'TickLength',get(0,'defaultaxesTickLength'),...
'GridLineStyle',get(0,'defaultaxesGridLineStyle'),...
'MinorGridLineStyle',get(0,'defaultaxesMinorGridLineStyle'),...
'XAxisLocation',get(0,'defaultaxesXAxisLocation'),...
'XTick',[0 0.2 0.4 0.6 0.8 1],...
'XTickMode',get(0,'defaultaxesXTickMode'),...
'XTickLabelRotation',get(0,'defaultaxesXTickLabelRotation'),...
'XScale',get(0,'defaultaxesXScale'),...
'XTickLabel',{  '0'; '0.2'; '0.4'; '0.6'; '0.8'; '1' },...
'XTickLabelMode',get(0,'defaultaxesXTickLabelMode'),...
'XMinorTick',get(0,'defaultaxesXMinorTick'),...
'YAxisLocation',get(0,'defaultaxesYAxisLocation'),...
'YTick',[0 0.2 0.4 0.6 0.8 1],...
'YTickMode',get(0,'defaultaxesYTickMode'),...
'YTickLabelRotation',get(0,'defaultaxesYTickLabelRotation'),...
'YScale',get(0,'defaultaxesYScale'),...
'YTickLabel',{  '0'; '0.2'; '0.4'; '0.6'; '0.8'; '1' },...
'YTickLabelMode',get(0,'defaultaxesYTickLabelMode'),...
'YMinorTick',get(0,'defaultaxesYMinorTick'),...
'ZTickLabelRotation',get(0,'defaultaxesZTickLabelRotation'),...
'ZScale',get(0,'defaultaxesZScale'),...
'ZMinorTick',get(0,'defaultaxesZMinorTick'),...
'BoxStyle',get(0,'defaultaxesBoxStyle'),...
'LineWidth',get(0,'defaultaxesLineWidth'),...
'Color',get(0,'defaultaxesColor'),...
'ClippingStyle',get(0,'defaultaxesClippingStyle'),...
'CameraMode',get(0,'defaultaxesCameraMode'),...
'DataSpaceMode',get(0,'defaultaxesDataSpaceMode'),...
'ColorSpaceMode',get(0,'defaultaxesColorSpaceMode'),...
'DecorationContainerMode',get(0,'defaultaxesDecorationContainerMode'),...
'ChildContainerMode',get(0,'defaultaxesChildContainerMode'),...
'TitleMode',get(0,'defaultaxesTitleMode'),...
'SubtitleMode',get(0,'defaultaxesSubtitleMode'),...
'MinorGridAlpha',get(0,'defaultaxesMinorGridAlpha'),...
'MinorGridAlphaMode',get(0,'defaultaxesMinorGridAlphaMode'),...
'BoxFrame',[],...
'BoxFrameMode',get(0,'defaultaxesBoxFrameMode'),...
'XAxisMode','manual',...
'XBaselineMode',get(0,'defaultaxesXBaselineMode'),...
'YRulerMode',get(0,'defaultaxesYRulerMode'),...
'YBaselineMode',get(0,'defaultaxesYBaselineMode'),...
'ZAxisMode','manual',...
'ZBaselineMode',get(0,'defaultaxesZBaselineMode'),...
'AmbientLightSourceMode',get(0,'defaultaxesAmbientLightSourceMode'),...
'Box',get(0,'defaultaxesBox'),...
'XGrid',get(0,'defaultaxesXGrid'),...
'XMinorGrid',get(0,'defaultaxesXMinorGrid'),...
'YGrid',get(0,'defaultaxesYGrid'),...
'YMinorGrid',get(0,'defaultaxesYMinorGrid'),...
'ZGrid',get(0,'defaultaxesZGrid'),...
'ZMinorGrid',get(0,'defaultaxesZMinorGrid'),...
'Position',[0.2271714922049 0.553846153846154 0.670378619153675 0.378698224852071],...
'InnerPosition',[0.2271714922049 0.553846153846154 0.670378619153675 0.378698224852071],...
'ActivePositionProperty','position',...
'PositionConstraint','innerposition',...
'PositionConstraintMode',get(0,'defaultaxesPositionConstraintMode'),...
'LooseInset',[0.0314466348991506 0.0906304169625817 0.0229802331955331 0.0617934661108512],...
'LooseInsetMode',get(0,'defaultaxesLooseInsetMode'),...
'Colormap',[0 0 0.5625;0 0 0.625;0 0 0.6875;0 0 0.75;0 0 0.8125;0 0 0.875;0 0 0.9375;0 0 1;0 0.0625 1;0 0.125 1;0 0.1875 1;0 0.25 1;0 0.3125 1;0 0.375 1;0 0.4375 1;0 0.5 1;0 0.5625 1;0 0.625 1;0 0.6875 1;0 0.75 1;0 0.8125 1;0 0.875 1;0 0.9375 1;0 1 1;0.0625 1 1;0.125 1 0.9375;0.1875 1 0.875;0.25 1 0.8125;0.3125 1 0.75;0.375 1 0.6875;0.4375 1 0.625;0.5 1 0.5625;0.5625 1 0.5;0.625 1 0.4375;0.6875 1 0.375;0.75 1 0.3125;0.8125 1 0.25;0.875 1 0.1875;0.9375 1 0.125;1 1 0.0625;1 1 0;1 0.9375 0;1 0.875 0;1 0.8125 0;1 0.75 0;1 0.6875 0;1 0.625 0;1 0.5625 0;1 0.5 0;1 0.4375 0;1 0.375 0;1 0.3125 0;1 0.25 0;1 0.1875 0;1 0.125 0;1 0.0625 0;1 0 0;0.9375 0 0;0.875 0 0;0.8125 0 0;0.75 0 0;0.6875 0 0;0.625 0 0;0.5625 0 0],...
'ColormapMode',get(0,'defaultaxesColormapMode'),...
'Alphamap',[0 0.0159 0.0317 0.0476 0.0635 0.0794 0.0952 0.1111 0.127 0.1429 0.1587 0.1746 0.1905 0.2063 0.2222 0.2381 0.254 0.2698 0.2857 0.3016 0.3175 0.3333 0.3492 0.3651 0.381 0.3968 0.4127 0.4286 0.4444 0.4603 0.4762 0.4921 0.5079 0.5238 0.5397 0.5556 0.5714 0.5873 0.6032 0.619 0.6349 0.6508 0.6667 0.6825 0.6984 0.7143 0.7302 0.746 0.7619 0.7778 0.7937 0.8095 0.8254 0.8413 0.8571 0.873 0.8889 0.9048 0.9206 0.9365 0.9524 0.9683 0.9841 1],...
'AlphamapMode',get(0,'defaultaxesAlphamapMode'),...
'ColorOrder',get(0,'defaultaxesColorOrder'),...
'ColorOrderIndex',get(0,'defaultaxesColorOrderIndex'),...
'LineStyleOrder',get(0,'defaultaxesLineStyleOrder'),...
'LineStyleOrderIndex',get(0,'defaultaxesLineStyleOrderIndex'),...
'FontSize',0.05,...
'TitleFontWeight',get(0,'defaultaxesTitleFontWeight'),...
'TitleFontSizeMultiplier',get(0,'defaultaxesTitleFontSizeMultiplier'),...
'SortMethod','childorder',...
'Clipping',get(0,'defaultaxesClipping'),...
'NextPlot',get(0,'defaultaxesNextPlot'),...
'ChildrenMode','manual',...
'Visible','off',...
'HandleVisibility',get(0,'defaultaxesHandleVisibility'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','axes5',...
'UserData',[],...
'HitTest',get(0,'defaultaxesHitTest'),...
'PickableParts',get(0,'defaultaxesPickableParts'),...
'Title',[]);

appdata = [];
appdata.Internal_InteractionsArray = mat{42};

h88 = get(h87,'title');

set(h88,...
'Parent',h87,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000801559322 1.004125 0.5],...
'PositionMode','auto',...
'Interpreter','tex',...
'InterpreterMode','auto',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontNameMode','auto',...
'FontSize',0.055,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontAngleMode','auto',...
'FontWeight','bold',...
'FontWeightMode','auto',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'EdgeColorMode','auto',...
'LineStyle','-',...
'LineStyleMode','auto',...
'LineWidth',0.5,...
'LineWidthMode','auto',...
'BackgroundColor','none',...
'BackgroundColorMode','auto',...
'Margin',3,...
'MarginMode','auto',...
'Clipping','off',...
'ClippingMode','auto',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'XLimIncludeMode','auto',...
'YLimInclude','off',...
'YLimIncludeMode','auto',...
'ZLimInclude','off',...
'ZLimIncludeMode','auto',...
'CLimInclude','on',...
'CLimIncludeMode','auto',...
'ALimInclude','on',...
'ALimIncludeMode','auto',...
'Description','Axes Title',...
'DescriptionMode','auto',...
'Visible','off',...
'VisibleMode','auto',...
'Serializable','on',...
'SerializableMode','auto',...
'HandleVisibility','off',...
'HandleVisibilityMode','auto',...
'HG1EraseMode','auto',...
'BusyAction','queue',...
'Interruptible','on',...
'HitTest','on',...
'HitTestMode','auto',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{43};

h89 = get(h87,'xlabel');

set(h89,...
'Parent',h87,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0.500000476837158 -0.0800280134306124 0],...
'PositionMode','auto',...
'Interpreter','tex',...
'InterpreterMode','auto',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontNameMode','auto',...
'FontSize',0.055,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontAngleMode','auto',...
'FontWeight','normal',...
'FontWeightMode','auto',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','top',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'EdgeColorMode','auto',...
'LineStyle','-',...
'LineStyleMode','auto',...
'LineWidth',0.5,...
'LineWidthMode','auto',...
'BackgroundColor','none',...
'BackgroundColorMode','auto',...
'Margin',3,...
'MarginMode','auto',...
'Clipping','off',...
'ClippingMode','auto',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'XLimIncludeMode','auto',...
'YLimInclude','off',...
'YLimIncludeMode','auto',...
'ZLimInclude','off',...
'ZLimIncludeMode','auto',...
'CLimInclude','on',...
'CLimIncludeMode','auto',...
'ALimInclude','on',...
'ALimIncludeMode','auto',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'VisibleMode','auto',...
'Serializable','on',...
'SerializableMode','auto',...
'HandleVisibility','off',...
'HandleVisibilityMode','auto',...
'HG1EraseMode','auto',...
'BusyAction','queue',...
'Interruptible','on',...
'HitTest','on',...
'HitTestMode','auto', 'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{44};

h90 = get(h87,'ylabel');

set(h90,...
'Parent',h87,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[-0.121994490358127 0.500000476837158 0],...
'PositionMode','auto',...
'Interpreter','tex',...
'InterpreterMode','auto',...
'Rotation',90,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontNameMode','auto',...
'FontSize',0.055,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontAngleMode','auto',...
'FontWeight','normal',...
'FontWeightMode','auto',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','bottom',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'EdgeColorMode','auto',...
'LineStyle','-',...
'LineStyleMode','auto',...
'LineWidth',0.5,...
'LineWidthMode','auto',...
'BackgroundColor','none',...
'BackgroundColorMode','auto',...
'Margin',3,...
'MarginMode','auto',...
'Clipping','off',...
'ClippingMode','auto',...
'Layer','back',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'XLimIncludeMode','auto',...
'YLimInclude','off',...
'YLimIncludeMode','auto',...
'ZLimInclude','off',...
'ZLimIncludeMode','auto',...
'CLimInclude','on',...
'CLimIncludeMode','auto',...
'ALimInclude','on',...
'ALimIncludeMode','auto',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'VisibleMode','auto',...
'Serializable','on',...
'SerializableMode','auto',...
'HandleVisibility','off',...
'HandleVisibilityMode','auto',...
'HG1EraseMode','auto',...
'BusyAction','queue',...
'Interruptible','on',...
'HitTest','on',...
'HitTestMode','auto',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.Internal_InteractionsArray = mat{45};

h91 = get(h87,'zlabel');

set(h91,...
'Parent',h87,...
'Units','data',...
'FontUnits','normalized',...
'DecorationContainer',[],...
'DecorationContainerMode','auto',...
'Color',[0.129411764705882 0.129411764705882 0.129411764705882],...
'ColorMode','auto',...
'Position',[0 0 0],...
'PositionMode','auto',...
'Interpreter','tex',...
'InterpreterMode','auto',...
'Rotation',0,...
'RotationMode','auto',...
'FontName','Helvetica',...
'FontNameMode','auto',...
'FontSize',0.0647249190938511,...
'FontSizeMode','auto',...
'FontAngle','normal',...
'FontAngleMode','auto',...
'FontWeight','normal',...
'FontWeightMode','auto',...
'HorizontalAlignment','center',...
'HorizontalAlignmentMode','auto',...
'VerticalAlignment','middle',...
'VerticalAlignmentMode','auto',...
'EdgeColor','none',...
'EdgeColorMode','auto',...
'LineStyle','-',...
'LineStyleMode','auto',...
'LineWidth',0.5,...
'LineWidthMode','auto',...
'BackgroundColor','none',...
'BackgroundColorMode','auto',...
'Margin',3,...
'MarginMode','auto',...
'Clipping','off',...
'ClippingMode','auto',...
'Layer','middle',...
'LayerMode','auto',...
'FontSmoothing','on',...
'FontSmoothingMode','auto',...
'IncludeRenderer','on',...
'IsContainer','off',...
'IsContainerMode','auto',...
'DimensionNames',{  'X' 'Y' 'Z' },...
'DimensionNamesMode','auto',...
'XLimInclude','off',...
'XLimIncludeMode','auto',...
'YLimInclude','off',...
'YLimIncludeMode','auto',...
'ZLimInclude','off',...
'ZLimIncludeMode','auto',...
'CLimInclude','on',...
'CLimIncludeMode','auto',...
'ALimInclude','on',...
'ALimIncludeMode','auto',...
'Description','AxisRulerBase Label',...
'DescriptionMode','auto',...
'Visible','off',...
'VisibleMode','auto',...
'Serializable','on',...
'SerializableMode','auto',...
'HandleVisibility','off',...
'HandleVisibilityMode','auto',...
'HG1EraseMode','auto',...
'BusyAction','queue',...
'Interruptible','on',...
'HitTest','on',...
'HitTestMode','auto',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'cmdMetricExport';

h92 = uicontrol(...
'Parent',h81,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','E',...
'Position',[0.92 0.955 0.0491071428571429 0.0310046811632014],...
'BackgroundColor',[0.929411764705882 0.690196078431373 0.129411764705882],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdMetricExport_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Export performance metrics',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Export performance metrics',...
'Tag','cmdMetricExport',...
'FontSize',get(0,'defaultuicontrolFontSize'),...
'FontWeight','bold',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'cmdExportCobWeb';

h93 = uicontrol(...
'Parent',h81,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.92 0.955 0.0491071428571429 0.031],...
'BackgroundColor',[0.8 0.8 1],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportCobWeb_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportCobWeb',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'cmdExportAxes20';

h94 = uicontrol(...
'Parent',h81,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.92 0.35 0.0491071428571429 0.031],...
'BackgroundColor',[0.8 0.8 0.902],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportAxes20_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportAxes20',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'cmdExportScores';

h95 = uicontrol(...
'Parent',h48,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','E',...
'Position',[0.42434988179669 0.79495990836197 0.0135933806146572 0.0297823596792669],...
'BackgroundColor',[0.929411764705882 0.690196078431373 0.129411764705882],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportScores_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Export scores',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Export scores',...
'ButtonDownFcn',@(hObject,eventdata)NM_Results_Viewer('cmdExportScores_ButtonDownFcn',hObject,eventdata,guidata(hObject)),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'Tag','cmdExportScores',...
'FontSize',get(0,'defaultuicontrolFontSize'),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'cmdExportAxes1';

h96 = uicontrol(...
'Parent',h48,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','F',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.42434988179669 0.830469644902635 0.0130023640661939 0.0297823596792669],...
'BackgroundColor',[0.8 0.8 0.901960784313726],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdExportAxes1_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Extract chart into separate figure for user editing',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Extract chart into separate figure for user editing',...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdExportAxes1',...
'KeyPressFcn',blanks(0),...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'pnBinRegrPerfCmd';

h97 = uipanel(...
'Parent',h48,...
'FontUnits',get(0,'defaultuipanelFontUnits'),...
'Units',get(0,'defaultuipanelUnits'),...
'ForegroundColor',get(0,'defaultuipanelForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuipanelForegroundColorMode'),...
'HighlightColor',get(0,'defaultuipanelHighlightColor'),...
'HighlightColorMode',get(0,'defaultuipanelHighlightColorMode'),...
'Title',blanks(0),...
'BackgroundColor',[0.901960784313726 0.901960784313726 0.901960784313726],...
'Tag','pnBinRegrPerfCmd',...
'Position',[0.00647820965842167 0.885906040268456 0.432273262661955 0.100671140939597],...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'txtXAxisName';

h98 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',blanks(0),...
'Style','edit',...
'Position',[0.652272192436579 0.548352177050758 0.189144736842105 0.280009622323792],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtXAxisName_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Enter the name of an variable (double) in the MATLAB workspace that defines alternative X values in the classification plot',...
'TooltipMode',get(0,'defaultuicontrolTooltipMode'),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Enter the name of an variable (double) in the MATLAB workspace that defines alternative X values in the classification plot',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtXAxisName_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','txtXAxisName',...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'cmdUpdateX';

h99 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Set',...
'Position',[0.849447513812155 0.523255813953488 0.0676795580110497 0.302325581395349],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdUpdateX_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'Tag','cmdUpdateX',...
'FontSize',9,...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'cmdResetX';

h100 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Reset',...
'Position',[0.921270718232044 0.523255813953488 0.0649171270718232 0.302325581395349],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdResetX_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'Tag','cmdResetX',...
'FontSize',9,...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'cmdSubgroupSet';

h101 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Set',...
'Position',[0.850828729281768 0.13953488372093 0.0662983425414364 0.302325581395349],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdSubgroupSet_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'Tag','cmdSubgroupSet',...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'cmdSubgroupClear';

h102 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Reset',...
'Position',[0.921270718232044 0.13953488372093 0.0649171270718232 0.302325581395349],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdSubgroupClear_Callback',hObject,eventdata,guidata(hObject)),...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'Tag','cmdSubgroupClear',...
'FontSize',9,...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'txtSubgroupSet';

h103 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',blanks(0),...
'Style','edit',...
'Position',[0.652272192436579 0.163338946355545 0.189144736842105 0.280009622323792],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('txtSubgroupSet_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Enter the name of a logical vector in the MATLAB workspace indexing a subgroup of subjects in the current analysis',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Enter the name of a logical vector in the MATLAB workspace indexing a subgroup of subjects in the current analysis',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('txtSubgroupSet_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','txtSubgroupSet',...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'tglSort';

h104 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Sort',...
'Style','togglebutton',...
'Position',[0.0123541523678792 0.126984126984127 0.0583390528483185 0.328042328042328],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('tglSort_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Sort scores in ascending order',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Sort scores in ascending order',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'Tag','tglSort',...
'FontSize',8.5);

appdata = [];
appdata.lastValidTag = 'selCase';

h105 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',{  'Pop-up Menu' },...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.392265193370166 0.418604651162791 0.252762430939226 0.406976744186046],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selCase_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Select case from dropdown list',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Select case from dropdown list',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selCase_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selCase',...
'KeyPressFcn',@(hObject,eventdata)NM_Results_Viewer('selCase_KeyPressFcn',hObject,eventdata,guidata(hObject)),...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'tglPercRank';

h106 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Ranks',...
'Style','togglebutton',...
'Position',[0.157172271791352 0.126984126984127 0.0782429649965683 0.328042328042328],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('tglPercRank_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Transform score to percentile ranks',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Transform score to percentile ranks',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','tglPercRank',...
'KeyPressFcn',blanks(0),...
'FontSize',8.5);

appdata = [];
appdata.lastValidTag = 'selYaxis';

h107 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String',{  'Pop-up Menu' },...
'Style','popupmenu',...
'ValueMode',get(0,'defaultuicontrolValueMode'),...
'Position',[0.0124309392265193 0.441860465116279 0.374309392265193 0.383720930232558],...
'BackgroundColor', get(0,'defaultuicontrolBackgroundColor'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selYaxis_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Choose between different model outputs',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Choose between different model outputs',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selYaxis_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selYaxis',...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'tglClrSwp';

h108 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Swap ',...
'Style','togglebutton',...
'Position',[0.0754975978037062 0.126984126984127 0.0768702814001373 0.328042328042328],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('tglClrSwp_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Swap colors of classification plot',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Swap colors of classification plot',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'Tag','tglClrSwp',...
'FontSize',8.5,...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'tglP';

h109 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Scores→Probs',...
'Style','togglebutton',...
'Position',[0.240219629375429 0.126984126984127 0.159231297185999 0.328042328042328],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('tglP_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Transform score to probabilities',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Transform scores to probabilities and vice versa',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','tglP',...
'KeyPressFcn',blanks(0),...
'FontSize',8.5);

appdata = [];
appdata.lastValidTag = 'cmdCalib';

h110 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','Calibration',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.404255319148936 0.126984126984127 0.139327385037749 0.328042328042328],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdCalib_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Perform interactive calibration analysis of current classifier',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Perform interactive calibration analysis of current classifier',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'Tag','cmdCalib',...
'FontSize',8.5);

appdata = [];
appdata.lastValidTag = 'cmdPerfDCA';

h111 = uicontrol(...
'Parent',h97,...
'Units','normalized',...
'FontUnits',get(0,'defaultuicontrolFontUnits'),...
'String','DCA',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.549759780370625 0.126984126984127 0.0967741935483871 0.328042328042328],...
'BackgroundColor',get(0,'defaultuicontrolBackgroundColor'),...
'BackgroundColorMode',get(0,'defaultuicontrolBackgroundColorMode'),...
'Callback',@(hObject,eventdata)NM_Results_Viewer('cmdPerfDCA_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Perform interactive decision curve analysis of current classifier',...
'ForegroundColor',get(0,'defaultuicontrolForegroundColor'),...
'ForegroundColorMode',get(0,'defaultuicontrolForegroundColorMode'),...
'TooltipString','Perform interactive decision curve analysis of current classifier',...
'TooltipStringMode',get(0,'defaultuicontrolTooltipStringMode'),...
'ButtonDownFcn',blanks(0),...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','cmdPerfDCA',...
'KeyPressFcn',blanks(0),...
'FontSize',8.5);

appdata = [];
appdata.lastValidTag = 'thisMLIresult';

h112 = uicontrol(...
'Parent',h48,...
'Units','normalized',...
'String','I',...
'Style',get(0,'defaultuicontrolStyle'),...
'Position',[0.424290220820189 0.759647935003385 0.0134069400630915 0.029790115098172],...
'BackgroundColor',[0 0.450980392156863 0.741176470588235],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('thisMLIresult_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Open MLI results for this case',...
'TooltipString','Open MLI results for this case',...
'Visible','off',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} ,...
'DeleteFcn',blanks(0),...
'Tag','thisMLIresult',...
'FontWeight','bold');

appdata = [];
appdata.lastValidTag = 'selSubGroupOOCV';

h113 = uicontrol(...
'Parent',h48,...
'Units','normalized',...
'String','Subgroup selection',...
'Style','popupmenu',...
'Position',[0.0649350649350649 0.80648769574944 0.0820543093270366 0.0391498881431768],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selSubGroupOOCV_Callback',hObject,eventdata,guidata(hObject)),...
'Tooltip','Select case from dropdown list',...
'TooltipString','Select case from dropdown list',...
'Visible','off',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selSubGroupOOCV_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selSubGroupOOCV',...
'KeyPressFcn',blanks(0),...
'FontSize',9);

appdata = [];
appdata.lastValidTag = 'CompModels';

h116 = uimenu(...
'Parent',h1,...
'Callback',@(hObject,eventdata)NM_Results_Viewer('CompModels_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Compare',...
'Tag','CompModels',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'CompModelsStats';

h117 = uimenu(...
'Parent',h116,...
'Callback',@(hObject,eventdata)NM_Results_Viewer('CompModelsStats_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Statistical Comparisons',...
'Tag','CompModelsStats',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'CompModelsVisual';

h118 = uimenu(...
'Parent',h116,...
'Callback',@(hObject,eventdata)NM_Results_Viewer('CompModelsVisual_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Visual Comparisons',...
'Tag','CompModelsVisual',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'selAnalysis';

h119 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'String',{  'Pop-up Menu' },...
'Style','popupmenu',...
'Position',[0.0144675925925926 0.949588477366255 0.146412037037037 0.0329218106995884],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selAnalysis_Callback',hObject,eventdata,guidata(hObject)),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selAnalysis_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selAnalysis',...
'FontSize',10,...
'FontSizeMode',get(0,'defaultuicontrolFontSizeMode'));

appdata = [];
appdata.lastValidTag = 'selCVoocv';

h120 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'String',{  'Pop-up Menu' },...
'Style','popupmenu',...
'Position',[0.17650462962963 0.949588477366255 0.160300925925926 0.0329218106995884],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selCVoocv_Callback',hObject,eventdata,guidata(hObject)),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selCVoocv_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selCVoocv',...
'FontSize',10);

appdata = [];
appdata.lastValidTag = 'selModelMeasures';

h121 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'String',{ 'Pop-up Menu' },...
'Style','popupmenu',...
'Position',[0.34375 0.949588477366255 0.140625 0.0329218106995884],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selModelMeasures_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selModelMeasures_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selModelMeasures',...
'FontSize',10);

appdata = [];
appdata.lastValidTag = 'popupmenu1';

h122 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'String',{ 'Analysis selector' },...
'Style','popupmenu',...
'Position',[0.491319444444444 0.949588477366255 0.141782407407407 0.0329218106995884],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('popupmenu1_Callback',hObject,eventdata,guidata(hObject)),...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('popupmenu1_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','popupmenu1',...
'FontSize',10);

appdata = [];
appdata.lastValidTag = 'selLabel';

h123 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'String',{'Select label' },...
'Style','popupmenu',...
'Position',[0.640625 0.949588477366255 0.0943287037037037 0.0329218106995884],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selLabel_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Classifier selector',...
'TooltipString','Classifier selector',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selLabel_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selLabel',...
'FontSize',10);

appdata = [];
appdata.lastValidTag = 'selModal';

h124 = uicontrol(...
'Parent',h1,...
'Units','normalized',...
'String',{ 'Select modality' },...
'Style','popupmenu',...
'Position',[0.744212962962963 0.949588477366255 0.24537037037037 0.0329218106995884],...
'Callback',@(hObject,eventdata)NM_Results_Viewer('selModal_Callback',hObject,eventdata,guidata(hObject)),...
'Children',[],...
'Tooltip','Select modality (late fusion) ',...
'TooltipString','Select modality (late fusion) ',...
'CreateFcn', {@local_CreateFcn, @(hObject,eventdata)NM_Results_Viewer('selModal_CreateFcn',hObject,eventdata,guidata(hObject)), appdata} ,...
'Tag','selModal',...
'FontSize',10);

appdata = [];
appdata.lastValidTag = 'ToolsItem';

h125 = uimenu(...
'Parent',h1,...
'Accelerator','T',...
'Callback',@(hObject,eventdata)NM_Results_Viewer('ToolsItem_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Tools',...
'Tag','ToolsItem',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

appdata = [];
appdata.lastValidTag = 'StartFeatureRelevanceGUI';

h126 = uimenu(...
'Parent',h125,...
'Callback',@(hObject,eventdata)NM_Results_Viewer('StartFeatureRelevanceGUI_Callback',hObject,eventdata,guidata(hObject)),...
'Label','Feature Relevance Plotting Tool',...
'Tag','StartFeatureRelevanceGUI',...
'CreateFcn', {@local_CreateFcn, blanks(0), appdata} );

hsingleton = h1;

% --- Set application data first then calling the CreateFcn. 
function local_CreateFcn(hObject, eventdata, createfcn, appdata)

if ~isempty(appdata)
   names = fieldnames(appdata);
   for i=1:length(names)
       name = char(names(i));
       setappdata(hObject, name, getfield(appdata,name));
   end
end

if ~isempty(createfcn)
   if isa(createfcn,'function_handle')
       createfcn(hObject, eventdata);
   else
       eval(createfcn);
   end
end

% --- Handles default GUIDE GUI creation and callback dispatch
function varargout = gui_mainfcn(gui_State, varargin)

gui_StateFields =  {'gui_Name'
    'gui_Singleton'
    'gui_OpeningFcn'
    'gui_OutputFcn'
    'gui_LayoutFcn'
    'gui_Callback'};
gui_Mfile = '';
for i=1:length(gui_StateFields)
    if ~isfield(gui_State, gui_StateFields{i})
        error(message('MATLAB:guide:StateFieldNotFound', gui_StateFields{ i }, gui_Mfile));
    elseif isequal(gui_StateFields{i}, 'gui_Name')
        gui_Mfile = [gui_State.(gui_StateFields{i}), '.m'];
    end
end

numargin = length(varargin);

if numargin == 0
    % NM_Results_Viewer
    % create the GUI only if we are not in the process of loading it
    % already
    gui_Create = true;
elseif local_isInvokeActiveXCallback(gui_State, varargin{:})
    % NM_Results_Viewer(ACTIVEX,...)
    vin{1} = gui_State.gui_Name;
    vin{2} = [get(varargin{1}.Peer, 'Tag'), '_', varargin{end}];
    vin{3} = varargin{1};
    vin{4} = varargin{end-1};
    vin{5} = guidata(varargin{1}.Peer);
    feval(vin{:});
    return;
elseif local_isInvokeHGCallback(gui_State, varargin{:})
    % NM_Results_Viewer('CALLBACK',hObject,eventData,handles,...)
    gui_Create = false;
else
    % NM_Results_Viewer(...)
    % create the GUI and hand varargin to the openingfcn
    gui_Create = true;
end

if ~gui_Create
    % In design time, we need to mark all components possibly created in
    % the coming callback evaluation as non-serializable. This way, they
    % will not be brought into GUIDE and not be saved in the figure file
    % when running/saving the GUI from GUIDE.
    designEval = false;
    if (numargin>1 && ishghandle(varargin{2}))
        fig = varargin{2};
        while ~isempty(fig) && ~ishghandle(fig,'figure')
            fig = get(fig,'parent');
        end
        
        designEval = isappdata(0,'CreatingGUIDEFigure') || (isscalar(fig)&&isprop(fig,'GUIDEFigure'));
    end
        
    if designEval
        beforeChildren = findall(fig);
    end
    
    % evaluate the callback now
    varargin{1} = gui_State.gui_Callback;
    if nargout
        [varargout{1:nargout}] = feval(varargin{:});
    else       
        feval(varargin{:});
    end
    
    % Set serializable of objects created in the above callback to off in
    % design time. Need to check whether figure handle is still valid in
    % case the figure is deleted during the callback dispatching.
    if designEval && ishghandle(fig)
        set(setdiff(findall(fig),beforeChildren), 'Serializable','off');
    end
else
    if gui_State.gui_Singleton
        gui_SingletonOpt = 'reuse';
    else
        gui_SingletonOpt = 'new';
    end

    % Check user passing 'visible' P/V pair first so that its value can be
    % used by oepnfig to prevent flickering
    gui_Visible = 'auto';
    gui_VisibleInput = '';
    for index=1:2:length(varargin)
        if length(varargin) == index || ~ischar(varargin{index})
            break;
        end

        % Recognize 'visible' P/V pair
        len1 = min(length('visible'),length(varargin{index}));
        len2 = min(length('off'),length(varargin{index+1}));
        if ischar(varargin{index+1}) && strncmpi(varargin{index},'visible',len1) && len2 > 1
            if strncmpi(varargin{index+1},'off',len2)
                gui_Visible = 'invisible';
                gui_VisibleInput = 'off';
            elseif strncmpi(varargin{index+1},'on',len2)
                gui_Visible = 'visible';
                gui_VisibleInput = 'on';
            end
        end
    end
    
    % Open fig file with stored settings.  Note: This executes all component
    % specific CreateFunctions with an empty HANDLES structure.
    
    % Do feval on layout code in m-file if it exists
    gui_Exported = ~isempty(gui_State.gui_LayoutFcn);
    % this application data is used to indicate the running mode of a GUIDE
    % GUI to distinguish it from the design mode of the GUI in GUIDE. it is
    % only used by actxproxy at this time.   
    setappdata(0,genvarname(['OpenGuiWhenRunning_', gui_State.gui_Name]),1);
    if gui_Exported
        gui_hFigure = feval(gui_State.gui_LayoutFcn, gui_SingletonOpt);

        % make figure invisible here so that the visibility of figure is
        % consistent in OpeningFcn in the exported GUI case
        if isempty(gui_VisibleInput)
            gui_VisibleInput = get(gui_hFigure,'Visible');
        end
        set(gui_hFigure,'Visible','off')

        % openfig (called by local_openfig below) does this for guis without
        % the LayoutFcn. Be sure to do it here so guis show up on screen.
        movegui(gui_hFigure,'onscreen');
    else
        gui_hFigure = local_openfig(gui_State.gui_Name, gui_SingletonOpt, gui_Visible);
        % If the figure has InGUIInitialization it was not completely created
        % on the last pass.  Delete this handle and try again.
        if isappdata(gui_hFigure, 'InGUIInitialization')
            delete(gui_hFigure);
            gui_hFigure = local_openfig(gui_State.gui_Name, gui_SingletonOpt, gui_Visible);
        end
    end
    if isappdata(0, genvarname(['OpenGuiWhenRunning_', gui_State.gui_Name]))
        rmappdata(0,genvarname(['OpenGuiWhenRunning_', gui_State.gui_Name]));
    end

    % Set flag to indicate starting GUI initialization
    setappdata(gui_hFigure,'InGUIInitialization',1);

    % Fetch GUIDE Application options
    gui_Options = getappdata(gui_hFigure,'GUIDEOptions');
    % Singleton setting in the GUI MATLAB code file takes priority if different
    gui_Options.singleton = gui_State.gui_Singleton;

    if ~isappdata(gui_hFigure,'GUIOnScreen')
        % Adjust background color
        if gui_Options.syscolorfig
            set(gui_hFigure,'Color', get(0,'DefaultUicontrolBackgroundColor'));
        end

        % Generate HANDLES structure and store with GUIDATA. If there is
        % user set GUI data already, keep that also.
        data = guidata(gui_hFigure);
        handles = guihandles(gui_hFigure);
        if ~isempty(handles)
            if isempty(data)
                data = handles;
            else
                names = fieldnames(handles);
                for k=1:length(names)
                    data.(char(names(k)))=handles.(char(names(k)));
                end
            end
        end
        guidata(gui_hFigure, data);
    end

    % Apply input P/V pairs other than 'visible'
    for index=1:2:length(varargin)
        if length(varargin) == index || ~ischar(varargin{index})
            break;
        end

        len1 = min(length('visible'),length(varargin{index}));
        if ~strncmpi(varargin{index},'visible',len1)
            try set(gui_hFigure, varargin{index}, varargin{index+1}), catch break, end
        end
    end

    % If handle visibility is set to 'callback', turn it on until finished
    % with OpeningFcn
    gui_HandleVisibility = get(gui_hFigure,'HandleVisibility');
    if strcmp(gui_HandleVisibility, 'callback')
        set(gui_hFigure,'HandleVisibility', 'on');
    end

    feval(gui_State.gui_OpeningFcn, gui_hFigure, [], guidata(gui_hFigure), varargin{:});

    if isscalar(gui_hFigure) && ishghandle(gui_hFigure)
        % Handle the default callbacks of predefined toolbar tools in this
        % GUI, if any
        guidemfile('restoreToolbarToolPredefinedCallback',gui_hFigure); 
        
        % Update handle visibility
        set(gui_hFigure,'HandleVisibility', gui_HandleVisibility);

        % Call openfig again to pick up the saved visibility or apply the
        % one passed in from the P/V pairs
        if ~gui_Exported
            gui_hFigure = local_openfig(gui_State.gui_Name, 'reuse',gui_Visible);
        elseif ~isempty(gui_VisibleInput)
            set(gui_hFigure,'Visible',gui_VisibleInput);
        end
        if strcmpi(get(gui_hFigure, 'Visible'), 'on')
            figure(gui_hFigure);
            
            if gui_Options.singleton
                setappdata(gui_hFigure,'GUIOnScreen', 1);
            end
        end

        % Done with GUI initialization
        if isappdata(gui_hFigure,'InGUIInitialization')
            rmappdata(gui_hFigure,'InGUIInitialization');
        end

        % If handle visibility is set to 'callback', turn it on until
        % finished with OutputFcn
        gui_HandleVisibility = get(gui_hFigure,'HandleVisibility');
        if strcmp(gui_HandleVisibility, 'callback')
            set(gui_hFigure,'HandleVisibility', 'on');
        end
        gui_Handles = guidata(gui_hFigure);
    else
        gui_Handles = [];
    end

    if nargout
        [varargout{1:nargout}] = feval(gui_State.gui_OutputFcn, gui_hFigure, [], gui_Handles);
    else
        feval(gui_State.gui_OutputFcn, gui_hFigure, [], gui_Handles);
    end

    if isscalar(gui_hFigure) && ishghandle(gui_hFigure)
        set(gui_hFigure,'HandleVisibility', gui_HandleVisibility);
    end
end

function gui_hFigure = local_openfig(name, singleton, visible)

% openfig with three arguments was new from R13. Try to call that first, if
% failed, try the old openfig.
if nargin('openfig') == 2
    % OPENFIG did not accept 3rd input argument until R13,
    % toggle default figure visible to prevent the figure
    % from showing up too soon.
    gui_OldDefaultVisible = get(0,'defaultFigureVisible');
    set(0,'defaultFigureVisible','off');
    gui_hFigure = matlab.hg.internal.openfigLegacy(name, singleton);
    set(0,'defaultFigureVisible',gui_OldDefaultVisible);
else
    % Call version of openfig that accepts 'auto' option"
    gui_hFigure = matlab.hg.internal.openfigLegacy(name, singleton, visible);  
%     %workaround for CreateFcn not called to create ActiveX
%         peers=findobj(findall(allchild(gui_hFigure)),'type','uicontrol','style','text');    
%         for i=1:length(peers)
%             if isappdata(peers(i),'Control')
%                 actxproxy(peers(i));
%             end            
%         end
end

function result = local_isInvokeActiveXCallback(gui_State, varargin)

try
    result = ispc && iscom(varargin{1}) ...
             && isequal(varargin{1},gcbo);
catch
    result = false;
end

function result = local_isInvokeHGCallback(gui_State, varargin)

try
    fhandle = functions(gui_State.gui_Callback);
    result = ~isempty(findstr(gui_State.gui_Name,fhandle.file)) || ...
             (ischar(varargin{1}) ...
             && isequal(ishghandle(varargin{2}), 1) ...
             && (~isempty(strfind(varargin{1},[get(varargin{2}, 'Tag'), '_'])) || ...
                ~isempty(strfind(varargin{1}, '_CreateFcn'))) );
catch
    result = false;
end

% --- small utility ------------------------------------------------------
function tbl = upsertProbsColumn(tbl, probs, method)
    probCol = sprintf('Probs_%s', method);          % e.g. "Probs_platt"
    
    % add new column name if it doesn’t exist yet
    idx = find(strcmp(tbl.colnames, probCol), 1);
    if isempty(idx)
        idx = size(tbl.array, 2) + 1;
        tbl.colnames{idx+1} = probCol;
    end
    
    % write data (column-wise)
    tbl.array(:, idx) = probs;

    function colorButtonCallback(hObject, ~, which)
    handles = guidata(hObject);
    switch lower(which)
        case 'pos'
            startCol = handles.posBarColor;
            c = uisetcolor(startCol, 'Pick color for POSITIVE bars');
            if numel(c)==3, handles.posBarColor = c; end
            if isfield(handles,'btnPosColor') && isgraphics(handles.btnPosColor)
                set(handles.btnPosColor, 'BackgroundColor', handles.posBarColor);
            end
        case 'neg'
            startCol = handles.negBarColor;
            c = uisetcolor(startCol, 'Pick color for NEGATIVE bars');
            if numel(c)==3, handles.negBarColor = c; end
            if isfield(handles,'btnNegColor') && isgraphics(handles.btnNegColor)
                set(handles.btnNegColor, 'BackgroundColor', handles.negBarColor);
            end
    end
    guidata(handles.figure1, handles);
    % re-render with new colors
    handles = display_visual(handles);
    guidata(handles.figure1, handles);
